(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{572:function(e,t){},574:function(e,t){},585:function(e,t){},587:function(e,t){},614:function(e,t){},616:function(e,t){},617:function(e,t){},622:function(e,t){},624:function(e,t){},643:function(e,t){},655:function(e,t){},658:function(e,t){},664:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(18),r=a.n(i),o=a(17),s=a(24),l=a(7),d=a(5),j=a(167),u=a(706),b=a(753),h=a(751),O=a(87),m=a(715),x=a(328),p=a.n(x),g=a(714),f=a(10),v=a.n(f),y=a(705),_=a.p+"static/media/background.867bf8a8.jpg",w=a(750),C=a(748),S=function(e,t){switch(t.type){case"SET_REGISTERED":return Object(d.a)(Object(d.a)({},e),{},{registered:t.payload});default:return e}},k=a(1),N=Object(n.createContext)(),T={registered:!1},D=function(e){var t=Object(n.useReducer)(S,T),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(k.jsx)(N.Provider,{value:{data:c,dispatch:i},children:e.children})};function L(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var I=function(){var e={margin:"5px 0",fontSize:34},t={height:"100vh",backgroundImage:"url(".concat(_,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},a=Object(n.useContext)(N),c=a.data,i=a.dispatch,r=Object(n.useState)(!1),o=Object(l.a)(r,2),x=o[0],f=o[1],C=Object(n.useState)(""),S=Object(l.a)(C,2),T=S[0],D=S[1],I=Object(n.useState)({email:"",password:""}),R=Object(l.a)(I,2),E=R[0],F=R[1],q=Object(s.g)();return Object(n.useEffect)((function(){localStorage.getItem("user_id")&&localStorage.getItem("user_type")&&q.push("/dashboard")}),[q]),Object(k.jsxs)(j.a,{style:t,square:!0,children:[Object(k.jsx)(y.a,{}),Object(k.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(k.jsxs)(j.a,{elevation:10,style:{padding:20,width:280},children:[Object(k.jsxs)(u.a,{align:"center",children:[Object(k.jsx)(b.a,{style:{backgroundColor:"#3f50b5"},children:Object(k.jsx)(p.a,{})}),Object(k.jsx)("h2",{children:"Sign in"})]}),Object(k.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),v.a.post("http://100.26.17.215:5000/auth/login",E).then((function(e){console.log(e.data),localStorage.setItem("user_id",e.data.user_id),localStorage.setItem("user_type",e.data.user_type),localStorage.setItem("user_name",e.data.user_name),q.push("/dashboard")})).catch((function(e){D(e.response.data),console.log(e.response.data),f(!0)}))}(e)},children:[Object(k.jsx)(h.a,{label:"Enter Email",variant:"filled",placeholder:"Email",fullWidth:!0,style:e,required:!0,onChange:function(e){F(Object(d.a)(Object(d.a)({},E),{},{email:e.target.value}))}}),Object(k.jsx)(h.a,{type:"password",label:"Enter Password",variant:"filled",placeholder:"Password",fullWidth:!0,required:!0,style:e,onChange:function(e){F(Object(d.a)(Object(d.a)({},E),{},{password:e.target.value}))}}),Object(k.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,style:{fontSize:15,margin:"10px 0"},children:"Sign In"})]}),Object(k.jsx)(O.a,{children:"Dont have an account?"}),Object(k.jsx)(m.a,{href:"/register",children:"Register Here"})]}),Object(k.jsx)(w.a,{open:x,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&f(!1)},children:Object(k.jsx)(L,{severity:"error",style:{marginTop:"10px"},children:T})}),Object(k.jsx)(w.a,{open:c.registered,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&i({type:"SET_REGISTERED",payload:!1})},children:Object(k.jsx)(L,{severity:"success",style:{marginTop:"10px"},children:"Your account was successfully created!"})})]})]})},R=a(716),E=a(717),F=a(718),q=a(224),P=a(747),B=a(719),A=a(749),M=a(752),W=a(720),z=a(709),H=a(666);function G(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Y=Object(R.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},textField:{marginRight:e.spacing(2),width:"21ch",fontSize:20}}}));function U(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var V=function(){var e=Y(),t={height:"100vh",backgroundImage:"url(".concat(_,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},a=Object(n.useState)("1"),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)("maintainer"),b=Object(l.a)(o,2),O=b[0],m=b[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),f=p[0],C=p[1],S=Object(n.useState)(""),T=Object(l.a)(S,2),D=T[0],L=T[1],I=Object(n.useState)({first_name:"",last_name:"",email:"",password:"",confirmed_password:"",age:"",height_inch:"",height_feet:"",user_type:"maintainer"}),R=Object(l.a)(I,2),V=R[0],Z=R[1],J=Object(n.useState)({first_name:"",last_name:"",email:"",password:"",confirmed_password:"",user_type:"attendant"}),$=Object(l.a)(J,2),K=$[0],Q=$[1],X=Object(s.g)(),ee=Object(n.useContext)(N).dispatch;return Object(n.useEffect)((function(){localStorage.getItem("user_id")&&localStorage.getItem("user_type")&&X.push("/dashboard")}),[X]),Object(k.jsxs)(j.a,{style:t,square:!0,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)("div",{className:"registration-page",children:Object(k.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(k.jsxs)(j.a,{elevation:10,style:{padding:20,width:900},children:[Object(k.jsx)("div",{style:{fontSize:"35px",justifyContent:"center",textAlign:"center",marginBottom:"10px"},children:"Registration"}),Object(k.jsx)("div",{className:e.root,children:Object(k.jsxs)(q.a,{value:i,children:[Object(k.jsx)(E.a,{position:"static",children:Object(k.jsxs)(P.a,{onChange:function(e,t){r(t)},children:[Object(k.jsx)(F.a,{label:"Customer Registration",value:"1"}),Object(k.jsx)(F.a,{label:"Employee Registration",value:"2"})]})}),Object(k.jsx)(B.a,{value:"2",children:Object(k.jsx)("div",{className:"registration-e",children:Object(k.jsx)("form",{onSubmit:function(e){return function(e){return e.preventDefault(),console.log(e),K.first_name.length<5?(L("Your first name needs to be at least 5 characters long"),void C(!0)):K.last_name.length<5?(L("Your last name needs to be at least 5 characters long"),void C(!0)):!1===U(K.email)?(L("Your email is not valid"),void C(!0)):K.password.length<8?(L("Your password needs to be atleast 8 characters long"),void C(!0)):K.confirmed_password!==K.password?(L("Your passwords do not match"),void C(!0)):void v.a.post("http://100.26.17.215:5000/auth/register",Object(d.a)(Object(d.a)({},K),{},{user_type:O})).then((function(e){X.push("/"),console.log(e),ee({type:"SET_REGISTERED",payload:!0})})).catch((function(e){console.log(e),L(e.response.data),console.log(e.response.data),C(!0)}))}(e)},children:Object(k.jsxs)(u.a,{container:!0,spacing:2,children:[Object(k.jsxs)(u.a,{item:!0,children:[Object(k.jsx)(h.a,{required:!0,label:"First Name",id:"employee-fname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{first_name:e.target.value}))}}),Object(k.jsx)(h.a,{required:!0,label:"Last Name",id:"employee-lname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{last_name:e.target.value}))}}),Object(k.jsxs)(z.a,{onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{user_type:e.target.value}))},component:"fieldset",children:[Object(k.jsx)(H.a,{required:!0,component:"legend",children:"Employee Type"}),Object(k.jsxs)(M.a,{"aria-label":"Employee Type",name:"employee",value:O,onChange:function(e,t){m(e.target.value),console.log(e.target.value)},children:[Object(k.jsx)(W.a,{value:"maintainer",control:Object(k.jsx)(A.a,{}),label:"Maintainer"}),Object(k.jsx)(W.a,{value:"attendant",control:Object(k.jsx)(A.a,{}),label:"Attendant"})]})]}),Object(k.jsx)(h.a,{required:!0,id:"employee-email",label:"Email",fullWidth:!0,margin:"normal",variant:"filled",type:"email",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{email:e.target.value}))}}),Object(k.jsx)(h.a,{required:!0,id:"employee-password",label:"Password",fullWidth:!0,margin:"normal",variant:"filled",type:"password",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{password:e.target.value}))}}),Object(k.jsx)(h.a,{required:!0,id:"employee-cpassword",label:"Confirm Password",fullWidth:!0,margin:"normal",variant:"filled",type:"password",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{confirmed_password:e.target.value}))}})]}),Object(k.jsx)("br",{}),Object(k.jsx)(u.a,{children:Object(k.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})})}),Object(k.jsx)(B.a,{value:"1",children:Object(k.jsx)("div",{className:"registration-c",children:Object(k.jsxs)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),V.first_name.length<5)return L("Your first name needs to be at least 5 characters long"),void C(!0);if(V.last_name.length<5)return L("Your last name needs to be at least 5 characters long"),void C(!0);if(!1===U(V.email))return L("Your email is not valid"),void C(!0);if(V.password.length<8)return L("Your password needs to be atleast 8 characters long"),void C(!0);if(V.confirmed_password!==V.password)return L("Your passwords do not match"),void C(!0);var t=12*Number(V.height_feet)+Number(V.height_inch),a={first_name:V.first_name,last_name:V.last_name,email:V.email,password:V.password,customer_password:V.customer_password,age:Number(V.age),height:t,user_type:"customer"};console.log(a),v.a.post("http://100.26.17.215:5000/auth/register",a).then((function(e){X.push("/"),console.log(e),ee({type:"SET_REGISTERED",payload:!0})})).catch((function(e){L(e.response.data),console.log(e.response.data),C(!0)}))}(e)},children:[Object(k.jsx)(u.a,{container:!0,spacing:2,children:Object(k.jsxs)(u.a,{item:!0,children:[Object(k.jsx)(h.a,{required:!0,label:"First Name",id:"customer-fname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{first_name:e.target.value}))}}),Object(k.jsx)(h.a,{required:!0,label:"Last Name",id:"customer-lname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{last_name:e.target.value}))}}),Object(k.jsx)(h.a,{required:!0,variant:"filled",id:"customer-age",label:"Age",className:e.textField,margin:"normal",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{age:e.target.value<0||e.target.value>119?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{required:!0,id:"customer-hfeet",margin:"normal",label:"Height",type:"number",className:e.textField,helperText:"Feet",InputLabelProps:{shrink:!0},variant:"filled",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{height_feet:e.target.value<0||e.target.value>8?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{required:!0,className:e.textField,id:"customer-hinches",label:"Height",type:"number",helperText:"Inches",margin:"normal",variant:"filled",InputLabelProps:{shrink:!0},onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{height_inch:e.target.value<0||e.target.value>11?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{required:!0,className:e.textField,id:"customer-email",label:"Email",variant:"filled",margin:"normal",type:"email",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{email:e.target.value}))}}),Object(k.jsxs)("div",{item:!0,className:"password",children:[Object(k.jsx)(h.a,{required:!0,type:"password",id:"filled-full-width",label:"Password",fullWidth:!0,margin:"normal",variant:"filled",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{password:e.target.value}))}}),Object(k.jsx)(h.a,{type:"password",required:!0,id:"filled-full-width",label:"Confirm Password",fullWidth:!0,margin:"normal",variant:"filled",onChange:function(e){Z(Object(d.a)(Object(d.a)({},V),{},{confirmed_password:e.target.value}))}})]})]})}),Object(k.jsx)("br",{}),Object(k.jsx)(g.a,{variant:"contained",type:"submit",color:"primary",children:"Submit"})]})})})]})})]}),Object(k.jsx)(w.a,{open:f,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&C(!1)},children:Object(k.jsx)(G,{severity:"error",style:{marginTop:"10px"},children:D})})]})})]})},Z=a(343),J=function(e){var t=e.component,a=Object(Z.a)(e,["component"]);return Object(k.jsx)(s.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return localStorage.getItem("user_id")&&localStorage.getItem("user_type")?Object(k.jsx)(t,Object(d.a)({},e)):Object(k.jsx)(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},$=Object(R.a)({root:{marginTop:"8rem",textAlign:"center"}}),K=function(){var e=$();return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(O.a,{variant:"h1",component:"h2",gutterBottom:!0,children:"404"}),Object(k.jsx)(O.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Page Not Found"}),Object(k.jsx)(g.a,{variant:"contained",color:"Primary",href:"/",children:"Go back to Home"})]})},Q=a(732),X=a(731),ee=a(713),te=a(735),ae=a(668),ne=a(733),ce=a(734),ie=a(84),re=a.n(ie),oe=a(160),se=a.n(oe),le=a(159),de=a.n(le),je=a(219),ue=a.n(je),be=a(342),he=a(721),Oe=a(722),me=a(723),xe=a(745),pe=a(130),ge=a.n(pe),fe=Object(R.a)((function(e){return{card:{display:"flex",maxWidth:560,backgroundColor:"#1c2e4a"},pos:{marginBottom:12},id:{fontSize:11},content:{flex:"1 0 auto"},cover:{width:200}}}));function ve(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var ye=function(e){var t=e.time_purchased.indexOf("T"),a=e.time_purchased.indexOf("."),n=e.time_purchased.indexOf("Z");return{date:e.time_purchased.slice(0,t),time:e.time_purchased.slice(t+1,a),ticketId:String(e.customer_id)+String(e.entrypass_id)+String(e.time_purchased.slice(a+1,n)),expired:e.expired}};var _e=function(e){var t=fe(),a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),j=s[0],b=s[1],h=function(e,t){"clickaway"!==t&&r(!1)},m=Object(n.useState)([]),x=Object(l.a)(m,2),p=x[0],f=x[1];return Object(n.useEffect)((function(){v.a.post("http://100.26.17.215:5000/customer/get-all-pass",{user_id:localStorage.getItem("user_id")}).then((function(e){var t=e.data.map((function(e){return ye(e)}));f(t)})).catch((function(e){console.log(e.res)}))}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),v.a.post("http://100.26.17.215:5000/customer/purchase-pass",{user_id:localStorage.getItem("user_id")}).then((function(e){if("you already have a valid pass"===e.data)b(e.data),r(!0);else{var t=ye(e.data),a=Object(d.a)(Object(d.a)({},t),{},{expired:!1});f([].concat(Object(be.a)(p),[a]))}})).catch((function(e){console.log(e)}))}(e)},children:Object(k.jsx)("div",{children:Object(k.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Purchase Entry Pass"})})}),Object(k.jsx)("br",{}),Object(k.jsx)(u.a,{container:!0,spacing:3,children:p.map((function(e){return Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsxs)(he.a,{className:t.card,children:[Object(k.jsx)(Oe.a,{className:t.content,children:Object(k.jsxs)(xe.a,{color:"#FFFFFF",children:[Object(k.jsx)(O.a,{variant:"h5",component:"h2",align:"center",children:"Day Entry Pass"}),Object(k.jsxs)(O.a,{className:t.pos,children:[Object(k.jsx)("span",{style:{color:ge.a[400]},children:"Date Purchased:"})," ",e.date]}),Object(k.jsxs)(O.a,{className:t.pos,children:[Object(k.jsx)("span",{style:{color:ge.a[400]},children:"Time Purchased:"})," ",e.time]}),Object(k.jsxs)(O.a,{className:t.pos,children:[Object(k.jsx)("span",{style:{color:ge.a[400]},children:"Status:"})," ",e.expired?Object(k.jsx)("span",{style:{color:"red"},children:"expired"}):Object(k.jsx)("span",{style:{color:"green"},children:"valid"})]}),Object(k.jsxs)(O.a,{className:t.id,children:[Object(k.jsx)("span",{style:{color:ge.a[400]},children:"Pass ID:"})," ",e.ticketId]})]})}),Object(k.jsx)(me.a,{className:t.cover,image:"https://media.beam.usnews.com/de/2248f0a712a4c92fa641b0dd037bb7/media:01216eb80ba74e33b55f2ebe4d36faceTheme_Parks-Slow_Reopening_73567.jpg"})]})})}))}),Object(k.jsx)(w.a,{open:i,autoHideDuration:2e3,onClose:h,children:Object(k.jsx)(ve,{onClose:h,severity:"error",children:j})})]})},we=a(725),Ce=a(755),Se=a(724),ke=Object(R.a)({root:{marginTop:"20px"},msg:{marginTop:"10px"}}),Ne=function(e){var t=ke(),a=e.type;return Object(k.jsxs)("div",{className:t.root,children:[Object(k.jsx)(g.a,{variant:"contained",color:"Primary",href:"/dashboard",children:"Go to pass page"}),Object(k.jsx)("div",{className:t.msg,children:Object(k.jsxs)(O.a,{variant:"h6",children:["Valid entry pass needed to view ",a]})})]})},Te=a(62),De=a.n(Te),Le=a(63),Ie=a.n(Le),Re=a(726),Ee=a(730),Fe=a(728),qe=a(729),Pe=a(727),Be=a(667),Ae=a(329),Me=a(331),We=a.n(Me),ze=function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?Object(k.jsx)(s.a,{to:"/dashboard"}):Object(k.jsxs)("span",{children:[t,":",a,":",n]})},He=function(e){Object(s.g)();return Object(k.jsx)("div",{children:Object(k.jsx)(Ce.a,{title:"Time left for current pass",children:Object(k.jsxs)(g.a,{variant:"outlined",style:{marginBottom:5},size:"large",children:[Object(k.jsx)(We.a,{style:{marginRight:5}}),Object(k.jsx)(Ae.a,{date:Date.now()+e.time,renderer:ze})]})})})};function Ge(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Ye=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}})),Ue=c.a.forwardRef((function(e,t){return Object(k.jsx)(Be.a,Object(d.a)({direction:"up",ref:t},e))}));function Ve(){var e=Ye(),t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(!0),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useRef)({});Object(n.useEffect)((function(){v.a.post("ride/all-customer",{customer_id:localStorage.getItem("user_id")}).then((function(e){"You have an unexpired entry pass"!==e.data?(b.current=function(e){var t=e.hours?e.hours:0,a=e.minutes?e.minutes:0,n=e.seconds?e.seconds:0,c=e.milliseconds?e.milliseconds:0;return 864e5-Math.round(1e3*(3600*t+60*a+n)+c)}(e.data.time_left),r(e.data.rides)):j(!1)})).catch((function(e){return console.log(e)}))}),[]);var h=c.a.useState(!1),m=Object(l.a)(h,2),x=m[0],p=m[1],f=function(e,t){"clickaway"!==t&&p(!1)},_=c.a.useState({}),C=Object(l.a)(_,2),S=(C[0],C[1],c.a.useState(!1)),N=Object(l.a)(S,2),T=N[0],D=N[1],L=function(){D(!1)},I=function(e){var t={ride_id:e,customer_id:Number(localStorage.getItem("user_id"))};v.a.post("ride/ride",t).then((function(e){p(!0)})).catch((function(e){console.log(e)}))};return Object(k.jsxs)(Se.a,{className:e.cardGrid,children:[Object(k.jsx)(y.a,{}),0!==i.length?Object(k.jsx)(He,{time:b.current}):null,Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[d?i.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(k.jsx)(Oe.a,{className:e.cardContent,children:Object(k.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(k.jsx)(Ce.a,{title:"broken",children:Object(k.jsx)(De.a,{color:"disabled"})}):null,t.rainedout?Object(k.jsx)(Ce.a,{title:"rained out",children:Object(k.jsx)(Ie.a,{color:"disabled"})}):null]})}),Object(k.jsxs)(we.a,{className:e.buttons,children:[t.rainedout||t.broken?Object(k.jsx)(g.a,{color:"primary",variant:"contained",disabled:!0,children:"Ride!"}):Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return I(t.ride_id)},children:"Ride!"}),Object(k.jsx)(Ce.a,{title:Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Description"}),Object(k.jsx)("div",{className:e.paragraph,children:t.description}),Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Location"}),Object(k.jsx)("div",{className:e.paragraph,children:t.location}),Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Age Restriciton"}),Object(k.jsx)("div",{className:e.paragraph,children:t.age_restriction?t.age_restriction:"None"}),Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Height Resctriction"}),Object(k.jsx)("div",{className:e.paragraph,children:t.height_restriction?"".concat(Math.round(t.height_restriction/12),"' ").concat(t.height_restriction%12,"''"):"None"})]}),children:Object(k.jsx)(g.a,{variant:"outlined",children:"Info"})})]})]})},t.ride_id)})):Object(k.jsx)(Ne,{type:"rides"}),Object(k.jsx)(w.a,{open:x,autoHideDuration:2e3,onClose:f,children:Object(k.jsx)(Ge,{onClose:f,severity:"success",children:"Wheee! enjoying the fun ride"})}),Object(k.jsxs)(Re.a,{open:T,TransitionComponent:Ue,onClose:L,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(k.jsx)(Pe.a,{id:"alert-dialog-slide-title",children:"(ride.name)"}),Object(k.jsxs)(Fe.a,{children:[Object(k.jsx)(qe.a,{children:"(ride.description)"}),Object(k.jsx)(qe.a,{children:"Location"}),Object(k.jsx)(qe.a,{children:"(ride.location)"}),Object(k.jsx)(qe.a,{children:"Age Restriction"}),Object(k.jsx)(qe.a,{children:"(ride.age_restriction)"}),Object(k.jsx)(qe.a,{children:"Height Restriction"}),Object(k.jsx)(qe.a,{children:"ride.height_restriction"}),Object(k.jsx)(qe.a,{})]}),Object(k.jsx)(Ee.a,{children:Object(k.jsx)(g.a,{onClick:L,color:"primary",children:"Close"})})]})]})]})}function Ze(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Je=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function $e(){var e=Je(),t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(!0),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useRef)({});Object(n.useEffect)((function(){v.a.post("attraction/all-customer",{customer_id:localStorage.getItem("user_id")}).then((function(e){"You have an unexpired entry pass"!==e.data?(b.current=function(e){var t=e.hours?e.hours:0,a=e.minutes?e.minutes:0,n=e.seconds?e.seconds:0,c=e.milliseconds?e.milliseconds:0;return 864e5-Math.round(1e3*(3600*t+60*a+n)+c)}(e.data.time_left),r(e.data.attractions)):j(!1)})).catch((function(e){return console.log(e)}))}),[]);var h=c.a.useState(!1),m=Object(l.a)(h,2),x=m[0],p=m[1],f=function(e,t){"clickaway"!==t&&p(!1)},_=function(e){var t={attraction_id:e.attraction_id,customer_id:Number(localStorage.getItem("user_id"))};v.a.post("attraction/visit",t).then((function(e){p(!0)})).catch((function(e){console.log(e)}))};return Object(k.jsxs)(Se.a,{className:e.cardGrid,children:[Object(k.jsx)(y.a,{}),0!==i.length?Object(k.jsx)(He,{time:b.current}):null,Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[d?i.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(k.jsx)(Oe.a,{className:e.cardContent,children:Object(k.jsxs)(O.a,{variant:"h5",children:[t.name," ",t.rainedout?Object(k.jsx)(Ce.a,{title:"rained out",children:Object(k.jsx)(Ie.a,{color:"disabled"})}):null]})}),Object(k.jsxs)(we.a,{className:e.buttons,children:[t.rainedout?Object(k.jsx)(g.a,{disabled:!0,color:"primary",variant:"contained",children:"Visit!"}):Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return _(t)},children:"Visit!"}),Object(k.jsx)(Ce.a,{title:Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Description"}),Object(k.jsx)("div",{className:e.paragraph,children:t.description}),Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Location"}),Object(k.jsx)("div",{className:e.paragraph,children:t.location}),Object(k.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Age Restriciton"}),Object(k.jsx)("div",{className:e.paragraph,children:t.age_restriction?t.age_restriction:"None"})]}),children:Object(k.jsx)(g.a,{variant:"outlined",children:"Info"})})]})]})},t.attraction_id)})):Object(k.jsx)(Ne,{type:"attractions"}),Object(k.jsx)(w.a,{open:x,autoHideDuration:2e3,onClose:f,children:Object(k.jsx)(Ze,{onClose:f,severity:"success",children:"Whaaa! having fun at the attraction"})})]})]})}var Ke=Object(R.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function Qe(){var e=Ke(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path,i=[{text:"Entry Pass",url:"".concat(n),icon:Object(k.jsx)(ue.a,{})},{text:"Rides",url:"".concat(n,"/rides"),icon:Object(k.jsx)(de.a,{})},{text:"Attractions",url:"".concat(n,"/attractions"),icon:Object(k.jsx)(se.a,{})}];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(E.a,{position:"fixed",className:e.appBar,children:Object(k.jsx)(X.a,{children:Object(k.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(k.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)("div",{className:e.drawerContainer,children:[Object(k.jsx)(ee.a,{children:i.map((function(t,a){return Object(k.jsx)(o.b,{to:t.url,className:e.link,children:Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ne.a,{children:t.icon}),Object(k.jsx)(ce.a,{primary:t.text})]})},a)}))}),Object(k.jsx)(te.a,{}),Object(k.jsx)(ee.a,{children:Object(k.jsxs)(ae.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(k.jsx)(ne.a,{children:Object(k.jsx)(re.a,{})}),Object(k.jsx)(ce.a,{primary:"Logout"})]})})]})]}),Object(k.jsxs)("main",{className:e.content,children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)(s.d,{children:[Object(k.jsx)(s.b,{path:"".concat(c),component:_e,exact:!0}),Object(k.jsx)(s.b,{path:"".concat(c,"/rides"),component:Ve}),Object(k.jsx)(s.b,{path:"".concat(c,"/attractions"),component:$e})]})]})]})}var Xe=a(710),et=a(742),tt=a(746),at=a(332),nt={labels:["1","2","3","4","5","6"],datasets:[{label:"# of Red Votes",data:[12,19,3,5,2,3],backgroundColor:"rgb(255, 99, 132)"},{label:"# of Blue Votes",data:[2,3],backgroundColor:"rgb(54, 162, 235)"},{label:"# of Green Votes",data:[3,10,13,15,22,30],backgroundColor:"rgb(75, 192, 192)"},{label:"#1",data:[3,10,13,15,22,30],backgroundColor:"Black"},{label:"#2",data:[3,10,13,15,22,30],backgroundColor:"Black"}]},ct={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,maintainAspectRatio:!1},it=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{style:{minHeight:475},children:Object(k.jsx)(at.a,{data:nt,options:ct})})})},rt=a(6),ot=a(739),st=a(741),lt=a(736),dt=a(738),jt=a(740),ut=a(756),bt=a(737),ht=Object(rt.a)((function(e){return{head:{backgroundColor:"#3f50b5",color:e.palette.common.white},body:{fontSize:14}}}))(lt.a),Ot=Object(rt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#e8eaf6"}}}}))(bt.a),mt=Object(R.a)({root:{width:"100%"},container:{maxHeight:455}}),xt=function(e,t){var a=e.charAt(0).toUpperCase()+e.slice(1);return{"daily total":"Daily Total ".concat(a),"monthly total":"Monthly Total ".concat(a),"daily average by month":"Daily Average ".concat(a," by Month"),"daily max by month":"Daily Maximum ".concat(a," by Month"),"daily min by month":"Daily Minimum ".concat(a," by Month")}[t]},pt=function(e,t,a,n){return void 0===t?"None":"ride"===e?a[t]:n[t]};function gt(e){var t=mt(),a=Object(n.useState)(0),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(25),s=Object(l.a)(o,2),d=s[0],u=s[1],b=Object(n.useState)(),h=Object(l.a)(b,2),O=h[0],m=h[1];return Object(n.useEffect)((function(){var t=function(e,t,a,n){var c=[],i=[];if("visits"===e.reportType)"daily total"===e.calculate?(c=t.map((function(e){return{visits:e.visits,date:"".concat(e.month,"/").concat(e.day,"/").concat(e.year)}})),i=[{id:"visits",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{visits:"daily average by month"===e.calculate?Math.round(t.visits):t.visits,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"visits",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}]);else if("usage"===e.reportType){var r="ride"===e.type?"usage":"visit",o="ride"===e.type?e.ride_id:e.attraction_id,s=pt(e.type,o,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:s,usage:t[r],date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"usage",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:s,usage:"daily average by month"===e.calculate?Math.round(t[r]):t[r],date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"usage",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}else if("breakdowns"===e.reportType){var l=pt("ride",e.ride_id,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:l,breakdowns:t.breakdowns,date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"breakdowns",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:l,breakdowns:"daily average by month"===e.calculate?Math.round(t.breakdowns):t.breakdowns,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"breakdowns",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}else if("rainouts"===e.reportType){var d="ride"===e.type?e.ride_id:e.attraction_id,j=pt(e.type,d,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:j,rainouts:t.rainouts,date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"rainouts",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:j,rainouts:"daily average by month"===e.calculate?Math.round(t.rainouts):t.rainouts,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"rainouts",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}return{rows:c,columns:i}}(e.params,e.report,e.ridePairs,e.attractionPairs);console.log(t),m(t),e.setExcelData(t)}),[]),Object(k.jsx)(k.Fragment,{children:O?Object(k.jsxs)(j.a,{className:t.root,children:[Object(k.jsx)(dt.a,{className:t.container,children:Object(k.jsxs)(ot.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(k.jsx)(jt.a,{children:Object(k.jsx)(bt.a,{children:O.columns.map((function(e){return Object(k.jsx)(ht,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(k.jsx)(st.a,{children:O.rows.slice(i*d,i*d+d).map((function(e){return Object(k.jsx)(Ot,{role:"checkbox",tabIndex:-1,children:O.columns.map((function(t){var a=e[t.id];return Object(k.jsx)(lt.a,{align:t.align,children:t.format&&"number"===typeof a?t.format(a):a},t.id)}))},e.code)}))})]})}),Object(k.jsx)(ut.a,{rowsPerPageOptions:[25,100],component:"div",count:O.rows.length,rowsPerPage:d,page:i,onChangePage:function(e,t){r(t)},onChangeRowsPerPage:function(e){u(+e.target.value),r(0)}})]}):null})}var ft=a(166),vt=a.n(ft),yt=a(743);function _t(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var wt=vt.a.ExcelFile,Ct=vt.a.ExcelFile.ExcelSheet,St=vt.a.ExcelFile.ExcelColumn,kt=Object(R.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:150,maxWidth:150,textAlign:"left"}}}));function Nt(){var e=kt(),t=Object(n.useState)("visits"),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],b=o[1],O=Object(n.useState)(""),m=Object(l.a)(O,2),x=m[0],p=m[1],f=Object(n.useState)("daily total"),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)("all"),N=Object(l.a)(S,2),T=N[0],D=N[1],L=Object(n.useState)("ride"),I=Object(l.a)(L,2),R=I[0],E=I[1],F=Object(n.useState)([]),q=Object(l.a)(F,2),P=q[0],B=q[1],A=Object(n.useState)([]),M=Object(l.a)(A,2),W=M[0],H=M[1],G=Object(n.useState)(1),Y=Object(l.a)(G,2),U=Y[0],V=Y[1],Z=Object(n.useState)(1),J=Object(l.a)(Z,2),$=J[0],K=J[1],Q=Object(n.useState)(),X=Object(l.a)(Q,2),ee=X[0],te=X[1],ae=Object(n.useState)(),ne=Object(l.a)(ae,2),ce=ne[0],ie=ne[1],re=Object(n.useState)(!1),oe=Object(l.a)(re,2),se=oe[0],le=(oe[1],Object(n.useState)(!1)),de=Object(l.a)(le,2),je=de[0],ue=de[1],be=Object(n.useState)(""),he=Object(l.a)(be,2),Oe=he[0],me=he[1],xe=function(e,t){"clickaway"!==t&&ue(!1)},pe=Object(n.useState)(),ge=Object(l.a)(pe,2),fe=ge[0],ve=ge[1],ye=Object(n.useState)(),_e=Object(l.a)(ye,2),we=_e[0],Ce=_e[1],Se=Object(n.useState)(!1),ke=Object(l.a)(Se,2),Ne=ke[0],Te=ke[1],De=Object(n.useState)(),Le=Object(l.a)(De,2),Ie=Le[0],Re=Le[1];return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){var t=e.data.reduce((function(e,t){return e[t.ride_id]=t.name,e}),{});te(t),B(e.data)})).catch((function(e){return console.log(e)})),v.a.get("attraction/all").then((function(e){var t=e.data.reduce((function(e,t){return e[t.attraction_id]=t.name,e}),{});ie(t),H(e.data)})).catch((function(e){return console.log(e)}))}),[fe]),Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsxs)(u.a,{container:!0,spacing:1,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(g.a,{color:"primary",variant:"contained",size:"medium",onClick:function(){return function(){if(!s||!x)return me("Please pick a date range to generate report"),void ue(!0);if(s>x)return me("End date can not come before start date"),void ue(!0);Te(!0);var e={};e="visits"===c?{start_date:s,end_date:x,calculate:_}:"breakdowns"===c?"all"===T?{start_date:s,end_date:x,calculate:_,show:T}:{start_date:s,end_date:x,calculate:_,show:T,ride_id:U}:"all"===T?{start_date:s,end_date:x,calculate:_,show:T,type:R}:"ride"===R?{start_date:s,end_date:x,calculate:_,show:T,type:R,ride_id:U}:{start_date:s,end_date:x,calculate:_,show:T,type:R,attraction_id:$},v.a.post("manager/".concat(c),e).then((function(t){ve(t.data),Ce(Object(d.a)({reportType:c},e)),Te(!1)})).catch((function(e){me("Error occured while generating the report for this criteria"),ue(!0),console.log(e)}))}()},children:"Generate Report"}),fe?Object(k.jsx)(k.Fragment,{children:Ie?Object(k.jsx)(wt,{element:Object(k.jsx)(g.a,{color:"primary",variant:"contained",style:{marginLeft:20},size:"medium",children:"Download Excel"}),children:Object(k.jsx)(Ct,{data:Ie.rows,name:c,children:Ie.columns.map((function(e){return Object(k.jsx)(St,{label:e.label,value:e.id})}))})}):null}):null]}),Object(k.jsx)(u.a,{item:!0,xs:12,children:Object(k.jsxs)(j.a,{className:e.paper,children:[Object(k.jsxs)(z.a,{className:e.formControl,children:[Object(k.jsx)(Xe.a,{children:"Report Type"}),Object(k.jsxs)(tt.a,{value:c,onChange:function(e){"breakdowns"===e.target.value?(E("ride"),i(e.target.value)):i(e.target.value)},children:[Object(k.jsx)(et.a,{value:"visits",children:"Visits"}),Object(k.jsx)(et.a,{value:"usage",children:"Usage"}),Object(k.jsx)(et.a,{value:"breakdowns",children:"Breakdowns"}),Object(k.jsx)(et.a,{value:"rainouts",children:"Rainouts"})]})]}),Object(k.jsx)(z.a,{className:e.formControl,children:Object(k.jsx)(h.a,{id:"start_date",label:"Start date",type:"date",className:e.textField,InputLabelProps:{shrink:!0},value:s,onChange:function(e){console.log(e.target.value),b(e.target.value)}})}),Object(k.jsx)(z.a,{className:e.formControl,children:Object(k.jsx)(h.a,{id:"end_date",label:"End date",type:"date",className:e.textField,InputLabelProps:{shrink:!0},value:x,onChange:function(e){return p(e.target.value)}})}),Object(k.jsxs)(z.a,{className:e.formControl,children:[Object(k.jsx)(Xe.a,{children:"Calculate"}),Object(k.jsxs)(tt.a,{value:_,defaultValue:1,onChange:function(e){return C(e.target.value)},children:[Object(k.jsx)(et.a,{value:"daily total",children:"Daily Total"}),Object(k.jsx)(et.a,{value:"monthly total",children:"Monthly Total"}),Object(k.jsx)(et.a,{value:"daily average by month",children:"Daily Average by Month"}),Object(k.jsx)(et.a,{value:"daily max by month",children:"Daily Maximum by Month"}),Object(k.jsx)(et.a,{value:"daily min by month",children:"Daily Minimum by Month"})]})]}),"visits"!==c?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(z.a,{className:e.formControl,children:[Object(k.jsx)(Xe.a,{children:"Show"}),Object(k.jsxs)(tt.a,{value:T,onChange:function(e){return D(e.target.value)},children:[" ",Object(k.jsx)(et.a,{value:"all",children:"All"}),Object(k.jsx)(et.a,{value:"one",children:"One"})]})]}),Object(k.jsxs)(z.a,{className:e.formControl,children:[Object(k.jsx)(Xe.a,{children:"Type"}),Object(k.jsxs)(tt.a,{value:R,onChange:function(e){return E(e.target.value)},children:[Object(k.jsx)(et.a,{value:"ride",children:"Ride"}),"breakdowns"!==c?Object(k.jsx)(et.a,{value:"attraction",children:"Attraction"}):null]})]}),"one"===T?Object(k.jsxs)(z.a,{className:e.formControl,children:[Object(k.jsx)(Xe.a,{children:"Name"}),"ride"===R?Object(k.jsx)(tt.a,{value:U,onChange:function(e){return V(e.target.value)},children:P.map((function(e){return Object(k.jsx)(et.a,{value:e.ride_id,children:e.name},e.ride_id)}))}):Object(k.jsx)(tt.a,{value:$,onChange:function(e){return K(e.target.value)},children:W.map((function(e){return Object(k.jsx)(et.a,{value:e.attraction_id,children:e.name},e.attraction_id)}))})]}):null]}):null]})}),Ne?Object(k.jsx)(u.a,{item:!0,xs:12,children:Object(k.jsx)(yt.a,{})}):null,fe&&!Ne?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.a,{item:!0,xs:se?7:12,children:Object(k.jsx)(gt,{report:fe,params:we,ridePairs:ee,attractionPairs:ce,setExcelData:Re})}),se?Object(k.jsx)(u.a,{item:!0,xs:5,children:Object(k.jsx)(j.a,{className:e.paper,children:Object(k.jsx)(it,{report:fe,params:we})})}):null]}):null]}),Object(k.jsx)(w.a,{open:je,autoHideDuration:2500,onClose:xe,children:Object(k.jsx)(_t,{onClose:xe,severity:"error",children:Oe})})]})}var Tt=a(31),Dt=a.n(Tt),Lt=a(52),It=a(164),Rt=a.n(It),Et=a(163),Ft=a.n(Et),qt=a(162),Pt=a.n(qt);function Bt(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var At=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function Mt(){var e=At(),t=Object(s.i)(),a=t.url,i=(t.path,Object(n.useState)([])),r=Object(l.a)(i,2),j=r[0],b=r[1],h=Object(n.useState)([]),m=Object(l.a)(h,2),x=m[0],p=m[1],f=Object(n.useState)({}),_=Object(l.a)(f,2),C=_[0],S=_[1],N=Object(n.useState)({}),T=Object(l.a)(N,2),D=T[0],L=T[1],I=Object(n.useState)(!1),R=Object(l.a)(I,2),E=R[0],F=R[1],q=Object(n.useState)(""),P=Object(l.a)(q,2),B=P[0],A=P[1],M=function(e,t){"clickaway"!==t&&F(!1)},W=c.a.useState(!1),H=Object(l.a)(W,2),G=H[0],Y=H[1],U=function(){var e=Object(Lt.a)(Dt.a.mark((function e(t){var a,n;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),e.next=3,v.a.get("manager/unassinged-attendants").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:if(a=e.sent,p(a),!t.attendant_id){e.next=12;break}return e.next=8,v.a.post("manager/get-one-attendant",{attendant_id:t.attendant_id}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 8:n=e.sent,S(n),e.next=13;break;case 12:S({});case 13:Y(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){Y(!1)},Z=function(e){v.a.put("manager/ride-archive",e).then((function(t){b(j.map((function(t){return t.ride_id===e.ride_id?Object(d.a)(Object(d.a)({},t),{},{archived:e.archive}):t}))),e.archive?(A("Ride successfully archived!"),F(!0)):(A("Ride successfully unarchived!"),F(!0))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(j),Object(k.jsxs)(Se.a,{className:e.cardGrid,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(o.b,{to:"".concat(a,"/add-ride"),style:{textDecoration:"none"},children:Object(k.jsxs)(g.a,{variant:"contained",color:"primary",style:{paddingLeft:13,marginBottom:10},children:[Object(k.jsx)(Pt.a,{style:{marginRight:5}}),"Add New"]})}),Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[j.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture?t.picture:"http://100.26.17.215:5000/default-coverImage.png"}),Object(k.jsx)(Oe.a,{className:e.cardContent,children:Object(k.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(k.jsx)(Ce.a,{title:"broken",children:Object(k.jsx)(De.a,{color:"disabled"})}):null,t.rainedout?Object(k.jsx)(Ce.a,{title:"rained out",children:Object(k.jsx)(Ie.a,{color:"disabled"})}):null]})}),Object(k.jsxs)(we.a,{className:e.buttons,children:[t.attendant_id?Object(k.jsx)("div",{children:Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return function(e){console.log({assignment_type:"ride",attendant_id:e.attendant_id,ride_id:e.ride_id}),v.a.delete("manager/remove-assignment",{data:{assignment_type:"ride",attendant_id:e.attendant_id,ride_id:e.ride_id}}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.ride_id===t.ride_id?t:e}))),A("Attendant successfully removed!"),F(!0)})).catch((function(e){return console.log(e)}))}(t)},title:"Assigned to ".concat(t.first_name," ").concat(t.last_name),children:"Unassign"})}):Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return U(t)},children:"Assign"}),Object(k.jsx)(o.b,{to:"".concat(a,"/info-ride/").concat(t.ride_id),style:{textDecoration:"none"},children:Object(k.jsx)(g.a,{variant:"contained",style:{paddingLeft:13},children:"Info"})}),t.archived?Object(k.jsx)(g.a,{title:"Unarchive",variant:"contained",onClick:function(){return Z({ride_id:t.ride_id,archive:!1})},children:Object(k.jsx)(Ft.a,{})}):Object(k.jsx)(g.a,{title:"Archive",variant:"contained",onClick:function(){return Z({ride_id:t.ride_id,archive:!0})},children:Object(k.jsx)(Rt.a,{})})]})]})},t.ride_id)})),Object(k.jsx)("div",{children:Object(k.jsxs)(Re.a,{open:G,onClose:V,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(Fe.a,{children:Object(k.jsxs)(z.a,{className:e.formControl,fullWidth:!0,children:[Object(k.jsx)(Xe.a,{children:"Attendant"}),console.log(),Object(k.jsxs)(tt.a,{value:C.account_id?C:"",onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[C.account_id?Object(k.jsx)(et.a,{value:C,children:C.first_name+" "+C.last_name}):null,x.map((function(e){return Object(k.jsx)(et.a,{value:e,children:e.first_name+" "+e.last_name},e.account_id)}))]})]})}),Object(k.jsxs)(Ee.a,{children:[Object(k.jsx)(g.a,{onClick:function(){return D.attendant_id!==C.account_id&&null!=C.account_id&&v.a.post("manager/new-assignment",{assignment_type:"ride",attendant_id:C.account_id,ride_id:D.ride_id}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.ride_id===t.ride_id?t:e}))),A("Attendant successfully assigned!"),F(!0)})).catch((function(e){return console.log(e)})),void V()},color:"primary",children:"Confirm"}),Object(k.jsx)(g.a,{onClick:V,color:"primary",children:"Cancel"})]})]})}),Object(k.jsx)(w.a,{open:E,autoHideDuration:2e3,onClose:M,children:Object(k.jsx)(Bt,{onClose:M,severity:"success",children:B})})]})]})}function Wt(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var zt=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function Ht(){var e=zt(),t=Object(s.i)(),a=t.url,i=(t.path,Object(n.useState)([])),r=Object(l.a)(i,2),j=r[0],b=r[1],h=Object(n.useState)([]),m=Object(l.a)(h,2),x=m[0],p=m[1],f=Object(n.useState)({}),_=Object(l.a)(f,2),C=_[0],S=_[1],N=Object(n.useState)({}),T=Object(l.a)(N,2),D=T[0],L=T[1],I=Object(n.useState)(!1),R=Object(l.a)(I,2),E=R[0],F=R[1],q=Object(n.useState)(""),P=Object(l.a)(q,2),B=P[0],A=P[1],M=function(e,t){"clickaway"!==t&&F(!1)},W=c.a.useState(!1),H=Object(l.a)(W,2),G=H[0],Y=H[1],U=function(){var e=Object(Lt.a)(Dt.a.mark((function e(t){var a,n;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),e.next=3,v.a.get("manager/unassinged-attendants").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:if(a=e.sent,p(a),!t.attendant_id){e.next=12;break}return e.next=8,v.a.post("manager/get-one-attendant",{attendant_id:t.attendant_id}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 8:n=e.sent,S(n),e.next=13;break;case 12:S({});case 13:Y(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){Y(!1)},Z=function(e){v.a.put("manager/attraction-archive",e).then((function(t){b(j.map((function(t){return t.attraction_id===e.attraction_id?Object(d.a)(Object(d.a)({},t),{},{archived:e.archive}):t}))),e.archive?(A("attraction successfully archived!"),F(!0)):(A("attraction successfully unarchived!"),F(!0))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){v.a.get("attraction/all").then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(j),Object(k.jsxs)(Se.a,{className:e.cardGrid,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(o.b,{to:"".concat(a,"/add-attraction"),style:{textDecoration:"none"},children:Object(k.jsxs)(g.a,{variant:"contained",color:"primary",style:{paddingLeft:13,marginBottom:10},children:[Object(k.jsx)(Pt.a,{style:{marginRight:5}}),"Add New"]})}),Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[j.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture?t.picture:"http://100.26.17.215:5000/default-coverImage.png"}),Object(k.jsx)(Oe.a,{className:e.cardContent,children:Object(k.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(k.jsx)(Ce.a,{title:"broken",children:Object(k.jsx)(De.a,{color:"disabled"})}):null,t.rainedout?Object(k.jsx)(Ce.a,{title:"rained out",children:Object(k.jsx)(Ie.a,{color:"disabled"})}):null]})}),Object(k.jsxs)(we.a,{className:e.buttons,children:[t.attendant_id?Object(k.jsx)("div",{children:Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return function(e){console.log({assignment_type:"attraction",attendant_id:e.attendant_id,attraction_id:e.attraction_id}),v.a.delete("manager/remove-assignment",{data:{assignment_type:"attraction",attendant_id:e.attendant_id,attraction_id:e.attraction_id}}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.attraction_id===t.attraction_id?t:e}))),A("Attendant successfully removed!"),F(!0)})).catch((function(e){return console.log(e)}))}(t)},title:"Assigned to ".concat(t.first_name," ").concat(t.last_name),children:"Unassign"})}):Object(k.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return U(t)},children:"Assign"}),Object(k.jsx)(o.b,{to:"".concat(a,"/info-attraction/").concat(t.attraction_id),style:{textDecoration:"none"},children:Object(k.jsx)(g.a,{variant:"contained",style:{paddingLeft:13},children:"Info"})}),t.archived?Object(k.jsx)(g.a,{title:"Unarchive",variant:"contained",onClick:function(){return Z({attraction_id:t.attraction_id,archive:!1})},children:Object(k.jsx)(Ft.a,{})}):Object(k.jsx)(g.a,{title:"Archive",variant:"contained",onClick:function(){return Z({attraction_id:t.attraction_id,archive:!0})},children:Object(k.jsx)(Rt.a,{})})]})]})},t.attraction_id)})),Object(k.jsx)("div",{children:Object(k.jsxs)(Re.a,{open:G,onClose:V,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(Fe.a,{children:Object(k.jsxs)(z.a,{className:e.formControl,fullWidth:!0,children:[Object(k.jsx)(Xe.a,{children:"Attendant"}),console.log(),Object(k.jsxs)(tt.a,{value:C.account_id?C:"",onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[C.account_id?Object(k.jsx)(et.a,{value:C,children:C.first_name+" "+C.last_name}):null,x.map((function(e){return Object(k.jsx)(et.a,{value:e,children:e.first_name+" "+e.last_name},e.account_id)}))]})]})}),Object(k.jsxs)(Ee.a,{children:[Object(k.jsx)(g.a,{onClick:function(){return D.attendant_id!==C.account_id&&null!=C.account_id&&v.a.post("manager/new-assignment",{assignment_type:"attraction",attendant_id:C.account_id,attraction_id:D.attraction_id}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.attraction_id===t.attraction_id?t:e}))),A("Attendant successfully assigned!"),F(!0)})).catch((function(e){return console.log(e)})),void V()},color:"primary",children:"Confirm"}),Object(k.jsx)(g.a,{onClick:V,color:"primary",children:"Cancel"})]})]})}),Object(k.jsx)(w.a,{open:E,autoHideDuration:2e3,onClose:M,children:Object(k.jsx)(Wt,{onClose:M,severity:"success",children:B})})]})]})}var Gt=a(336),Yt=a.n(Gt),Ut=a(23),Vt=a(66),Zt=a.n(Vt),Jt=a(704),$t=a(744);function Kt(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Qt=Object(R.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function Xt(){var e,t=Qt(),a=Object(s.g)(),c=Object(n.useState)({name:"",description:"",location:"",age_restriction:0,height_restriction:0,height_restriction_feet:0,height_restriction_inches:0,picture:""}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),x=m[0],p=m[1],f=Object(n.useState)(null),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],D=N[1],L=function(){p(!1)},I=Object(n.useState)(!1),R=Object(l.a)(I,2),E=R[0],F=R[1],q=Object(n.useState)(""),P=Object(l.a)(q,2),B=P[0],A=P[1],M=function(){var e=Object(Lt.a)(Dt.a.mark((function e(){var t;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return(t=new FormData).append("image",_.picture),D(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];o(Object(d.a)(Object(d.a)({},r),{},{picture:"http://100.26.17.215:5000/".concat(t)})),D(!1),L()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(j.a,{square:!0,children:Object(k.jsxs)(u.a,{container:!0,children:[Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsx)(he.a,{className:t.card,square:!0,children:Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Ride Name",id:"name",variant:"outlined",fullWidth:!0,value:r.name,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{name:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:r.location,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{location:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:r.age_restriction,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{age_restriction:e.target.value<0||e.target.value>25?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Feet",id:"height_restriction_feet",type:"number",variant:"outlined",fullWidth:!0,value:r.height_restriction_feet,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{height_restriction_feet:e.target.value<0||e.target.value>6?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Inches",id:"height_restriction_inches",type:"number",variant:"outlined",fullWidth:!0,value:r.height_restriction_inches,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{height_restriction_inches:e.target.value<0||e.target.value>11?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",r.description),Object(Ut.a)(e,"onChange",(function(e){return o(Object(d.a)(Object(d.a)({},r),{},{description:e.target.value}))})),e)),Object(k.jsxs)(we.a,{children:[Object(k.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=12*r.height_restriction_feet+r.height_restriction_inches,t={name:r.name,description:r.description,location:r.location,age_restriction:r.age_restriction>0?r.age_restriction:null,height_restriction:e>0?e:null,picture:r.picture};return""==t.name?(A("Name is Empty"),void F(!0)):""==t.location?(A("Location is Empty"),void F(!0)):""==t.description?(A("Description is Empty"),void F(!0)):t.name.length>30?(A("Name Length is Too Large"),void F(!0)):t.name.length<4?(A("Name Length is Too Small"),void F(!0)):t.location.length>50?(A("Location Length is Too Large"),void F(!0)):t.location.length<4?(A("Location Length is Too Small"),void F(!0)):t.age_restriction>21?(A("Age is Too Large"),void F(!0)):t.height_restriction>96?(A("Height is Too Large"),void F(!0)):t.description.length<20?(A("Description Length is Too Small"),void F(!0)):t.description.length>400?(A("Description Length is Too Large"),void F(!0)):void v.a.post("manager/ride-create",t).then((function(e){console.log(e.data),a.push("/dashboard/rides/info-ride/".concat(e.data.ride_id))})).catch((function(e){A(e.response.data),F(!0),console.log(e.response.data)}))}()},children:"Confirm"}),Object(k.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){return a.push("/dashboard/rides")},children:"Cancel"})]})]})})}),Object(k.jsx)(u.a,{item:!0,xs:6,children:""===r.picture?Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:"http://100.26.17.215:5000/default-coverImage.png",title:"Add Picture",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"black"},onClick:function(){p(!0),C(null)}})})})}):Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:r.picture,title:"your assignment",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"white"},onClick:function(){p(!0),C(null)}})})})})})]})}),Object(k.jsx)(Re.a,{open:x,onClose:L,children:Object(k.jsx)(Fe.a,{children:Object(k.jsx)(u.a,{justify:"center",children:T?Object(k.jsx)($t.a,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(k.jsx)("div",{style:{marginBottom:20},children:null!==_?_.picture.name:null}),Object(k.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(k.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return C({picture:e.target.files[0]})}})]}),Object(k.jsx)(g.a,{onClick:function(){return M()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})}),Object(k.jsx)(w.a,{open:E,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&F(!1)},children:Object(k.jsx)(Kt,{severity:"error",style:{marginTop:"10px"},children:B})})]})}function ea(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var ta=Object(R.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function aa(){var e,t=ta(),a=Object(s.h)().id,c=Object(n.useState)({}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),x=m[0],p=m[1],f=Object(n.useState)({}),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],D=N[1],L=Object(n.useState)(null),I=Object(l.a)(L,2),R=I[0],E=I[1],F=Object(n.useState)(!1),q=Object(l.a)(F,2),P=q[0],B=q[1],A=Object(n.useState)(!1),M=Object(l.a)(A,2),W=M[0],z=M[1],H=Object(n.useState)(""),G=Object(l.a)(H,2),Y=G[0],U=G[1],V=function(){D(!1)},Z=function(){var e=Object(Lt.a)(Dt.a.mark((function e(){var t;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=6;break}return(t=new FormData).append("image",R.picture),B(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];C(Object(d.a)(Object(d.a)({},_),{},{picture:"http://100.26.17.215:5000/".concat(t)})),B(!1),V()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){var t=e.data.find((function(e){return e.ride_id===Number(a)}));t.picture?o(t):o(Object(d.a)(Object(d.a)({},t),{},{picture:"http://100.26.17.215:5000/default-coverImage.png"}))})).catch((function(e){return console.log(e)}))}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)(j.a,{square:!0,children:Object(k.jsxs)(u.a,{container:!0,children:[Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsx)(he.a,{className:t.card,square:!0,children:x?Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Ride Name",id:"name",variant:"outlined",fullWidth:!0,value:_.name,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{name:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:_.location,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{location:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:_.age_restriction,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{age_restriction:e.target.value<0||e.target.value>25?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Feet",id:"height_restriction_feet",type:"number",variant:"outlined",fullWidth:!0,value:_.height_restriction_feet,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{height_restriction_feet:e.target.value<0||e.target.value>6?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Inches",id:"height_restriction_inches",type:"number",variant:"outlined",fullWidth:!0,value:_.height_restriction_inches,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{height_restriction_inches:e.target.value<0||e.target.value>11?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",_.description),Object(Ut.a)(e,"onChange",(function(e){return C(Object(d.a)(Object(d.a)({},_),{},{description:e.target.value}))})),e)),Object(k.jsxs)(we.a,{children:[Object(k.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={ride_id:_.ride_id,name:_.name,description:_.description,location:_.location,age_restriction:_.age_restriction,height_restriction:12*_.height_restriction_feet+_.height_restriction_inches,picture:_.picture};return""==e.name?(U("Name is Empty"),void z(!0)):""==e.location?(U("Location is Empty"),void z(!0)):""==e.description?(U("Description is Empty"),void z(!0)):e.name.length>30?(U("Name Length is Too Large"),void z(!0)):e.name.length<4?(U("Name Length is Too Small"),void z(!0)):e.location.length>50?(U("Location Length is Too Large"),void z(!0)):e.location.length<4?(U("Location Length is Too Small"),void z(!0)):e.age_restriction>21?(U("Age is Too Large"),void z(!0)):e.height_restriction>96?(U("Height is Too Large"),void z(!0)):e.description.length<20?(U("Description Length is Too Small"),void z(!0)):e.description.length>400?(U("Description Length is Too Large"),void z(!0)):void v.a.put("manager/ride-edit",e).then((function(t){o(e),p(!1)})).catch((function(e){return console.log(e)}))}()},children:"Confirm"}),Object(k.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){B(!1),C({}),p(!1)},children:"Cancel"})]})]}):Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{margin:"15px"},children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Name"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.name}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Location"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.location}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Height Restriction"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.height_restriction?"".concat(Math.floor(r.height_restriction/12),"' ").concat(r.height_restriction%12,"'' "):"None"}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Age Restriction"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.age_restriction?r.age_restriction:"None"}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Description"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.description})]}),Object(k.jsx)(we.a,{children:Object(k.jsx)(g.a,{title:"Edit",size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=Object(d.a)(Object(d.a)({},r),{},{height_restriction_feet:Math.floor(r.height_restriction/12),height_restriction_inches:r.height_restriction%12});C(e),p(!0)}()},children:"Edit"})})]})})}),Object(k.jsx)(u.a,{item:!0,xs:6,children:x?Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:_.picture,title:"ride picture",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"http://100.26.17.215:5000/default-coverImage.png"==_.picture?"black":"white"},onClick:function(){D(!0),E(null)}})})})}):Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:r.picture,title:"your assignment"})})})]})}),Object(k.jsx)(Re.a,{open:T,onClose:V,children:Object(k.jsx)(Fe.a,{children:Object(k.jsx)(u.a,{justify:"center",children:P?Object(k.jsx)($t.a,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(k.jsx)("div",{style:{marginBottom:20},children:R?R.picture.name:null}),Object(k.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(k.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return E({picture:e.target.files[0]})}})]}),Object(k.jsx)(g.a,{onClick:function(){return Z()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})}),Object(k.jsx)(w.a,{open:W,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&z(!1)},children:Object(k.jsx)(ea,{severity:"error",style:{marginTop:"10px"},children:Y})})]})}function na(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var ca=Object(R.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function ia(){var e,t=ca(),a=Object(s.h)().id,c=Object(n.useState)({}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),x=m[0],p=m[1],f=Object(n.useState)({}),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],D=N[1],L=Object(n.useState)(null),I=Object(l.a)(L,2),R=I[0],E=I[1],F=Object(n.useState)(!1),q=Object(l.a)(F,2),P=q[0],B=q[1],A=function(){D(!1)},M=Object(n.useState)(!1),W=Object(l.a)(M,2),z=W[0],H=W[1],G=Object(n.useState)(""),Y=Object(l.a)(G,2),U=Y[0],V=Y[1],Z=function(){var e=Object(Lt.a)(Dt.a.mark((function e(){var t;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=6;break}return(t=new FormData).append("image",R.picture),B(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];C(Object(d.a)(Object(d.a)({},_),{},{picture:"http://100.26.17.215:5000/".concat(t)})),B(!1),A()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v.a.get("attraction/all").then((function(e){var t=e.data.find((function(e){return e.attraction_id===Number(a)}));t.picture?o(t):o(Object(d.a)(Object(d.a)({},t),{},{picture:"http://100.26.17.215:5000/default-coverImage.png"}))})).catch((function(e){return console.log(e)}))}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)(j.a,{square:!0,children:Object(k.jsxs)(u.a,{container:!0,children:[Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsx)(he.a,{className:t.card,square:!0,children:x?Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"attraction Name",id:"name",variant:"outlined",fullWidth:!0,value:_.name,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{name:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:_.location,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{location:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:_.age_restriction,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{age_restriction:e.target.value<0||e.target.value>25?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",_.description),Object(Ut.a)(e,"onChange",(function(e){return C(Object(d.a)(Object(d.a)({},_),{},{description:e.target.value}))})),e)),Object(k.jsxs)(we.a,{children:[Object(k.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={attraction_id:_.attraction_id,name:_.name,description:_.description,location:_.location,age_restriction:_.age_restriction,picture:_.picture};return""==e.name?(V("Name is Empty"),void H(!0)):""==e.location?(V("Location is Empty"),void H(!0)):""==e.description?(V("Description is Empty"),void H(!0)):e.name.length>30?(V("Name Length is Too Large"),void H(!0)):e.name.length<4?(V("Name Length is Too Small"),void H(!0)):e.location.length>50?(V("Location Length is Too Large"),void H(!0)):e.location.length<4?(V("Location Length is Too Small"),void H(!0)):e.age_restriction>21?(V("Age is Too Large"),void H(!0)):e.description.length<20?(V("Description Length is Too Small"),void H(!0)):e.description.length>400?(V("Description Length is Too Large"),void H(!0)):void v.a.put("manager/attraction-edit",e).then((function(t){o(e),p(!1)})).catch((function(e){return console.log(e)}))}()},children:"Confirm"}),Object(k.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){B(!1),C({}),p(!1)},children:"Cancel"})]})]}):Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{margin:"15px"},children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Name"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.name}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Location"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.location}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Age Restriction"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.age_restriction?r.age_restriction:"None"}),Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(k.jsx)("strong",{children:"Description"})}),Object(k.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.description})]}),Object(k.jsx)(we.a,{children:Object(k.jsx)(g.a,{title:"Edit",size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=Object(d.a)({},r);C(e),p(!0)}()},children:"Edit"})})]})})}),Object(k.jsx)(u.a,{item:!0,xs:6,children:x?Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:_.picture,title:"attraction picture",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"http://100.26.17.215:5000/default-coverImage.png"==_.picture?"black":"white"},onClick:function(){D(!0),E(null)}})})})}):Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:r.picture,title:"your assignment"})})})]})}),Object(k.jsx)(Re.a,{open:T,onClose:A,children:Object(k.jsx)(Fe.a,{children:Object(k.jsx)(u.a,{justify:"center",children:P?Object(k.jsx)($t.a,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(k.jsx)("div",{style:{marginBottom:20},children:R?R.picture.name:null}),Object(k.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(k.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return E({picture:e.target.files[0]})}})]}),Object(k.jsx)(g.a,{onClick:function(){return Z()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})}),Object(k.jsx)(w.a,{open:z,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&H(!1)},children:Object(k.jsx)(na,{severity:"error",style:{marginTop:"10px"},children:U})})]})}function ra(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var oa=Object(R.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function sa(){var e,t=oa(),a=Object(s.g)(),c=Object(n.useState)({name:"",description:"",location:"",age_restriction:0,picture:""}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),x=m[0],p=m[1],f=Object(n.useState)(null),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],D=N[1],L=function(){p(!1)},I=Object(n.useState)(!1),R=Object(l.a)(I,2),E=R[0],F=R[1],q=Object(n.useState)(""),P=Object(l.a)(q,2),B=P[0],A=P[1],M=function(){var e=Object(Lt.a)(Dt.a.mark((function e(){var t;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return(t=new FormData).append("image",_.picture),D(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];o(Object(d.a)(Object(d.a)({},r),{},{picture:"http://100.26.17.215:5000/".concat(t)})),D(!1),L()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(j.a,{square:!0,children:Object(k.jsxs)(u.a,{container:!0,children:[Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsx)(he.a,{className:t.card,square:!0,children:Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"attraction Name",id:"name",variant:"outlined",fullWidth:!0,value:r.name,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{name:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:r.location,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{location:e.target.value}))}}),Object(k.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:r.age_restriction,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{age_restriction:e.target.value<0||e.target.value>25?e.target.value=0:Number(e.target.value)}))}}),Object(k.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",r.description),Object(Ut.a)(e,"onChange",(function(e){return o(Object(d.a)(Object(d.a)({},r),{},{description:e.target.value}))})),e)),Object(k.jsxs)(we.a,{children:[Object(k.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={name:r.name,description:r.description,location:r.location,age_restriction:r.age_restriction>0?r.age_restriction:null,picture:r.picture};return""==e.name?(A("Name is Empty"),void F(!0)):""==e.location?(A("Location is Empty"),void F(!0)):""==e.description?(A("Description is Empty"),void F(!0)):e.name.length>30?(A("Name Length is Too Large"),void F(!0)):e.name.length<4?(A("Name Length is Too Small"),void F(!0)):e.location.length>50?(A("Location Length is Too Large"),void F(!0)):e.location.length<4?(A("Location Length is Too Small"),void F(!0)):e.age_restriction>21?(A("Age is Too Large"),void F(!0)):e.description.length<20?(A("Description Length is Too Small"),void F(!0)):e.description.length>400?(A("Description Length is Too Large"),void F(!0)):void v.a.post("manager/attraction-create",e).then((function(e){console.log(e.data),a.push("/dashboard/attractions/info-attraction/".concat(e.data.attraction_id))})).catch((function(e){A(e.response.data),F(!0),console.log(e.response.data)}))}()},children:"Confirm"}),Object(k.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){return a.push("/dashboard/attractions")},children:"Cancel"})]})]})})}),Object(k.jsx)(u.a,{item:!0,xs:6,children:""===r.picture?Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:"http://100.26.17.215:5000/default-coverImage.png",title:"Add Picture",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"black"},onClick:function(){p(!0),C(null)}})})})}):Object(k.jsx)(he.a,{square:!0,className:t.cover,children:Object(k.jsx)(me.a,{style:{height:"100%"},image:r.picture,title:"your assignment",children:Object(k.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(k.jsx)(Zt.a,{style:{margin:"5px",color:"white"},onClick:function(){p(!0),C(null)}})})})})})]})}),Object(k.jsx)(Re.a,{open:x,onClose:L,children:Object(k.jsx)(Fe.a,{children:Object(k.jsx)(u.a,{justify:"center",children:T?Object(k.jsx)($t.a,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(k.jsx)("div",{style:{marginBottom:20},children:null!==_?_.picture.name:null}),Object(k.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(k.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return C({picture:e.target.files[0]})}})]}),Object(k.jsx)(g.a,{onClick:function(){return M()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})}),Object(k.jsx)(w.a,{open:E,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&F(!1)},children:Object(k.jsx)(ra,{severity:"error",style:{marginTop:"10px"},children:B})})]})}var la=a(165),da=Object(R.a)({root:{width:"100%",maxWidth:1e3}}),ja=function(e){var t=da();return Object(k.jsx)("div",{children:Object(k.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",style:{marginTop:100},children:[Object(k.jsx)(u.a,{item:!0,xs:12,children:Object(k.jsx)("div",{children:e.icon?e.icon:null})}),Object(k.jsx)(u.a,{item:!0,xs:12,children:Object(k.jsx)("div",{className:t.root,children:Object(k.jsx)(O.a,{variant:"h4",gutterBottom:!0,children:e.message})})})]})})},ua=a(335),ba=a.n(ua);function ha(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Oa=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}})),ma=function(){var e=Oa(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],r=a[1],o=c.a.useState(!1),s=Object(l.a)(o,2),d=s[0],j=s[1],b=c.a.useState(!1),h=Object(l.a)(b,2),m=h[0],x=h[1],p=Object(n.useState)([]),f=Object(l.a)(p,2),_=f[0],C=f[1],S=Object(n.useState)({}),N=Object(l.a)(S,2),T=N[0],D=N[1],L=Object(n.useState)(""),I=Object(l.a)(L,2),R=I[0],E=I[1],F=Object(n.useState)(""),q=Object(l.a)(F,2),P=q[0],B=q[1],A=c.a.useState(!1),M=Object(l.a)(A,2),W=M[0],H=M[1],G=Object(n.useState)([]),Y=Object(l.a)(G,2),U=Y[0],V=Y[1],Z=Object(n.useState)({}),J=Object(l.a)(Z,2),$=J[0],K=J[1],Q=Object(n.useState)({}),X=Object(l.a)(Q,2),ee=X[0],te=X[1],ae=function(e,t){"clickaway"!==t&&x(!1)},ne=function(e,t){"clickaway"!==t&&j(!1)},ce=function(e,t){"clickaway"!==t&&H(!1)};Object(n.useEffect)((function(){v.a.get("manager/all-maintainence-requests").then((function(e){var t=e.data.map((function(e){return function(e){var t=e.breakdown_date.indexOf("T");return console.log(e),{r_id:e.ride_id,bd_id:e.breakdown_id,date:e.breakdown_date.slice(0,t),name:e.name,descript:e.breakdown_description,location:e.location,picture:e.picture,attendant_name:e.first_name+" "+e.last_name}}(e)}));C(t),r(!0)})).catch((function(e){console.log(e.res)})),v.a.get("manager/all-maintainers").then((function(e){V(e.data)})).catch((function(e){console.log(e.res)}))}),[]);return Object(k.jsx)("div",{children:Object(k.jsxs)(Se.a,{children:[Object(k.jsx)(y.a,{}),i?Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[0!==_.length?Object(k.jsx)(k.Fragment,{children:_.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(k.jsx)(Oe.a,{classsName:e.cardContent,children:Object(k.jsxs)(O.a,{children:["Ride Name: ",t.name]})}),Object(k.jsxs)(we.a,{className:e.buttons,children:[Object(k.jsx)(g.a,{onClick:function(){te(t),H(!0)},variant:"contained",color:"primary",children:"Assign Maintainer"}),Object(k.jsx)(g.a,{onClick:function(){return function(e){D({ride_id:e.r_id,ride_name:e.name,breakdown_description:e.descript,breakdown_date:e.date,attendant_name:e.attendant_name}),j(!0)}(t)},variant:"contained",color:"disabled",children:"Info"})]})]})},t.bd_id)}))}):Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("h1",{children:["All breakdown requests (if any) are already assigned to maintainers ",Object(k.jsx)(ba.a,{})]})}),Object(k.jsxs)(Re.a,{open:d,onClose:ne,children:[Object(k.jsx)(Pe.a,{children:"Breakdown Information"}),Object(k.jsxs)(Fe.a,{children:[Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Breakdown Description: "}),T.breakdown_description]}),Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Reported by Attendant: "}),T.attendant_name]}),Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Date of Breakdown: "}),T.breakdown_date]})]}),Object(k.jsx)(Ee.a,{children:Object(k.jsx)(g.a,{variant:"contained",onClick:ne,style:{backgroundColor:la.a[400]},children:"Cancel"})})]}),Object(k.jsxs)(Re.a,{open:W,onClose:ce,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(Fe.a,{children:Object(k.jsxs)(z.a,{className:e.formControl,fullWidth:!0,children:[Object(k.jsx)(Xe.a,{children:"Maintainer"}),Object(k.jsxs)(tt.a,{value:$.account_id?$:"",onChange:function(e){console.log(e.target.value),K(e.target.value)},children:[$.account_id?Object(k.jsx)(et.a,{value:$,children:$.first_name+" "+$.last_name}):null,U.map((function(e){return Object(k.jsx)(et.a,{value:e,children:e.first_name+" "+e.last_name},e.account_id)}))]})]})}),Object(k.jsxs)(Ee.a,{children:[Object(k.jsx)(g.a,{onClick:function(){return function(){void 0===$.account_id&&(B("error"),E("Please pick an attendant!"),x(!0));var e={maintainer_id:$.account_id,breakdown_id:ee.bd_id};console.log(e),v.a.put("manager/assign-fix",e).then((function(e){C(_.filter((function(e){return e.bd_id!==ee.bd_id}))),B("success"),E("Fix request assigned to maintainer"),x(!0),H(!1),console.log(e.data)})).catch((function(e){console.log(e)}))}()},color:"primary",children:"Confirm"}),Object(k.jsx)(g.a,{onClick:ce,color:"primary",children:"Cancel"})]})]}),Object(k.jsx)(w.a,{open:m,autoHideDuration:2e3,onClose:ae,children:Object(k.jsx)(ha,{onClose:ae,severity:P,children:R})})]}):null]})})},xa=Object(R.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function pa(){var e=xa(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"Reports",url:"".concat(n),icon:Object(k.jsx)(Yt.a,{})},{text:"Rides",url:"".concat(n,"/rides"),icon:Object(k.jsx)(de.a,{})},{text:"Attractions",url:"".concat(n,"/attractions"),icon:Object(k.jsx)(se.a,{})},{text:"Breakdowns",url:"".concat(n,"/breakdowns"),icon:Object(k.jsx)(De.a,{})}];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(E.a,{position:"fixed",className:e.appBar,children:Object(k.jsx)(X.a,{children:Object(k.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(k.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)("div",{className:e.drawerContainer,children:[Object(k.jsx)(ee.a,{children:i.map((function(t,a){return Object(k.jsx)(o.b,{to:t.url,className:e.link,children:Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ne.a,{children:t.icon}),Object(k.jsx)(ce.a,{primary:t.text})]})},t.index)}))}),Object(k.jsx)(te.a,{}),Object(k.jsx)(ee.a,{children:Object(k.jsxs)(ae.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(k.jsx)(ne.a,{children:Object(k.jsx)(re.a,{})}),Object(k.jsx)(ce.a,{primary:"Logout"})]})})]})]}),Object(k.jsxs)("main",{className:e.content,children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)(s.d,{children:[Object(k.jsx)(s.b,{path:"".concat(c),component:Nt,exact:!0}),Object(k.jsx)(s.b,{path:"".concat(c,"/rides"),component:Mt,exact:!0}),Object(k.jsx)(s.b,{path:"".concat(c,"/rides/add-ride"),component:Xt}),Object(k.jsx)(s.b,{path:"".concat(c,"/rides/info-ride/:id"),component:aa}),Object(k.jsx)(s.b,{path:"".concat(c,"/attractions"),component:Ht,exact:!0}),Object(k.jsx)(s.b,{path:"".concat(c,"/attractions/add-attraction"),component:sa}),Object(k.jsx)(s.b,{path:"".concat(c,"/attractions/info-attraction/:id"),component:ia}),Object(k.jsx)(s.b,{path:"".concat(c,"/breakdowns"),component:ma,exact:!0})]})]})]})}var ga=a(337),fa=a.n(ga);function va(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var ya=Object(R.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}})),_a=function(){var e=ya(),t=c.a.useState(!1),a=Object(l.a)(t,2),i=a[0],r=a[1],o=c.a.useState(!1),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),m=h[0],x=h[1],p=Object(n.useState)({}),f=Object(l.a)(p,2),_=f[0],C=f[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),T=N[0],D=N[1],L=function(e,t){"clickaway"!==t&&j(!1)},I=function(e,t){"clickaway"!==t&&r(!1)};Object(n.useEffect)((function(){var e=Number(localStorage.getItem("user_id"));v.a.post("maintainer/get-maintainence-requests",{maintainer_id:e}).then((function(e){var t=e.data.map((function(e){return function(e){var t=e.breakdown_date.indexOf("T");return console.log(e),{r_id:e.ride_id,bd_id:e.breakdown_id,date:e.breakdown_date.slice(0,t),name:e.name,descript:e.breakdown_description,location:e.location,picture:e.picture,attendant_name:e.first_name+" "+e.last_name}}(e)}));x(t)})).catch((function(e){console.log(e.res)}))}),[]);return Object(k.jsx)("div",{children:Object(k.jsxs)(Se.a,{children:[Object(k.jsx)(y.a,{}),Object(k.jsxs)(u.a,{container:!0,spacing:4,children:[m.map((function(t){return Object(k.jsx)(u.a,{item:!0,md:3,children:Object(k.jsxs)(he.a,{className:e.card,children:[Object(k.jsx)(me.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(k.jsxs)(Oe.a,{classsName:e.cardContent,children:[Object(k.jsxs)(O.a,{children:["Ride Name: ",t.name]}),Object(k.jsxs)(O.a,{children:["Location: ",t.location]})]}),Object(k.jsx)(we.a,{className:e.buttons,children:Object(k.jsx)(g.a,{onClick:function(){return function(e){C({ride_id:e.r_id,ride_name:e.name,breakdown_description:e.descript,breakdown_date:e.date,attendant_name:e.attendant_name,breakdown_id:e.bd_id}),r(!0)}(t)},variant:"contained",color:"primary",children:"Inspect Issue"})})]})},t.bd_id)})),Object(k.jsxs)(Re.a,{open:i,onClose:I,children:[Object(k.jsx)(Pe.a,{children:"Breakdown Information"}),Object(k.jsxs)(Fe.a,{children:[Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Breakdown Description: "}),_.breakdown_description]}),Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Reported by Attendant: "}),_.attendant_name]}),Object(k.jsxs)(qe.a,{children:[Object(k.jsx)("strong",{children:"Date of Breakdown: "}),_.breakdown_date]})]}),Object(k.jsxs)(Ee.a,{children:[Object(k.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e={breakdown_id:_.breakdown_id,ride_id:_.ride_id};v.a.put("maintainer/resolve-request",e).then((function(e){x(m.filter((function(e){return e.bd_id!==_.breakdown_id}))),D("".concat(_.ride_name," was fixed!")),j(!0),I(),console.log(e.data.broken)})).catch((function(e){console.log(e)}))}()},children:"Fix Ride"}),Object(k.jsx)(g.a,{variant:"contained",onClick:I,style:{backgroundColor:la.a[400]},children:"Cancel"})]})]}),Object(k.jsx)(w.a,{open:d,autoHideDuration:2e3,onClose:L,children:Object(k.jsx)(va,{onClose:L,severity:"success",children:T})})]})]})})},wa=Object(R.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function Ca(){var e=wa(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"Fix Requests",url:"".concat(n),icon:Object(k.jsx)(fa.a,{})}];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(E.a,{position:"fixed",className:e.appBar,children:Object(k.jsx)(X.a,{children:Object(k.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(k.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)("div",{className:e.drawerContainer,children:[Object(k.jsx)(ee.a,{children:i.map((function(t,a){return Object(k.jsx)(o.b,{to:t.url,className:e.link,children:Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ne.a,{children:t.icon}),Object(k.jsx)(ce.a,{primary:t.text})]})},t.index)}))}),Object(k.jsx)(te.a,{}),Object(k.jsx)(ee.a,{children:Object(k.jsxs)(ae.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(k.jsx)(ne.a,{children:Object(k.jsx)(re.a,{})}),Object(k.jsx)(ce.a,{primary:"Logout"})]})})]})]}),Object(k.jsxs)("main",{className:e.content,children:[Object(k.jsx)(X.a,{}),Object(k.jsx)(s.d,{children:Object(k.jsx)(s.b,{path:"".concat(c),component:_a,exact:!0})})]})]})}var Sa=a(338),ka=a.n(Sa),Na=a(339),Ta=a.n(Na),Da=a(340),La=a.n(Da);function Ia(e){return Object(k.jsx)(C.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Ra=Object(R.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column",flexGrow:100},content:{flex:"1 0 auto"},cover:{width:600,height:"100%"},buttons:{marginTop:"20px"}}}));function Ea(){var e=Ra(),t=Object(n.useState)({}),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),j=(s[0],s[1]),b=Object(n.useState)(!1),m=Object(l.a)(b,2),x=m[0],p=m[1],f=Object(n.useState)(""),y=Object(l.a)(f,2),_=y[0],C=y[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),T=N[0],D=N[1],L=Object(n.useState)(!1),I=Object(l.a)(L,2),R=I[0],E=I[1],F=Object(n.useState)(!1),q=Object(l.a)(F,2),P=q[0],B=q[1],A=Object(n.useState)(""),M=Object(l.a)(A,2),W=(M[0],M[1],function(){p(!1)}),z=c.a.useState(!1),H=Object(l.a)(z,2),G=H[0],Y=H[1],U=function(e){D(e),Y(!0)},V=function(e,t){"clickaway"!==t&&Y(!1)};Object(n.useEffect)((function(){v.a.post("attendant/get-assignment",{attendant_id:localStorage.getItem("user_id")}).then((function(e){console.log(e.data),null===e.data||"No assignment"===e.data||(E(!0),r(e.data.assignment),j(e.data.type),"ride"===e.data.type&&B(!0))})).catch((function(e){return console.log(e)}))}),[]);return Object(k.jsxs)("div",{children:[!0===R?Object(k.jsxs)("div",{children:[Object(k.jsx)(he.a,{className:e.root,children:Object(k.jsx)("div",{className:e.details,children:Object(k.jsxs)(u.a,{container:!0,children:[Object(k.jsxs)(u.a,{item:!0,xs:6,children:[" ",Object(k.jsxs)(Oe.a,{className:e.content,children:[Object(k.jsx)(O.a,{variant:"h2",children:i.name}),Object(k.jsx)(O.a,{variant:"h6",children:"Description"}),Object(k.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.description}),Object(k.jsx)(O.a,{variant:"h6",children:"Location"}),Object(k.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.location}),Object(k.jsx)(O.a,{variant:"h6",children:"Age Restriction"}),Object(k.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.age_restriction?i.age_restriction:"None"}),P?Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{variant:"h6",children:"Height Resctriction"}),Object(k.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.height_restriction?"".concat(Math.floor(i.height_restriction/12),"' ").concat(i.height_restriction%12,"'' "):"None"})]}):null,Object(k.jsx)(O.a,{variant:"h6",children:"Status"}),Object(k.jsxs)("div",{children:[i.broken||i.rainedout?null:Object(k.jsx)(Ce.a,{title:"Available",children:Object(k.jsx)(ka.a,{fontSize:"large"})}),i.broken?Object(k.jsx)(Ce.a,{title:"Broken",children:Object(k.jsx)(De.a,{fontSize:"large"})}):null,i.rainedout?Object(k.jsx)(Ce.a,{title:"Rainedout",children:Object(k.jsx)(Ie.a,{fontSize:"large"})}):null]}),Object(k.jsx)(te.a,{}),Object(k.jsxs)("div",{className:e.buttons,children:[P?i.broken?Object(k.jsx)(g.a,{variant:"contained",color:"disabled",children:"Make Fix Request"}):Object(k.jsx)(g.a,{variant:"contained",style:{backgroundColor:Ta.a.A200,color:"white"},onClick:function(){return p(!0)},children:"Make Fix Request"}):null,i.rainedout?Object(k.jsx)(g.a,{variant:"contained",style:{marginLeft:"15px"},color:"primary",onClick:function(){P?v.a.put("attendant/end-rainout",{rainout_type:"ride",ride_id:i.ride_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!1})),U("Rainout successfully ended!")})).catch((function(e){console.log(e)})):v.a.put("attendant/end-rainout",{rainout_type:"attraction",attraction_id:i.attraction_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!1})),U("Rainout successfully ended!")})).catch((function(e){console.log(e)}))},children:"End Rainout"}):Object(k.jsx)(g.a,{variant:"contained",color:"primary",style:{marginLeft:"15px"},onClick:function(){P?v.a.put("attendant/declare-rainout",{rainout_type:"ride",ride_id:i.ride_id,attendant_id:i.attendant_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!0})),U("Rainout successfully declared!")})).catch((function(e){console.log(e)})):v.a.put("attendant/declare-rainout",{rainout_type:"attraction",attraction_id:i.attraction_id,attendant_id:i.attendant_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!0})),U("Rainout successfully declared!")})).catch((function(e){console.log(e)}))},children:"Declare Rainout"})]})]})]}),Object(k.jsx)(u.a,{item:!0,xs:6,children:Object(k.jsx)(he.a,{children:Object(k.jsx)(me.a,{className:e.cover,image:i.picture,title:"your assignment",style:{paddingTop:"90%"}})})})]})})}),Object(k.jsxs)(Re.a,{open:x,onClose:W,"aria-labelledby":"form-dialog-title",children:[Object(k.jsxs)(Fe.a,{children:[Object(k.jsx)(qe.a,{children:"Please leave a short description of the problem"}),Object(k.jsx)(h.a,{autoFocus:!0,margin:"dense",id:"name",type:"description",fullWidth:!0,variant:"filled",multiline:"true",rows:"5",onChange:function(e){return C(e.target.value)}})]}),Object(k.jsxs)(Ee.a,{children:[Object(k.jsx)(g.a,{onClick:function(){return console.log(_),void v.a.put("attendant/request-maintainence",{ride_id:i.ride_id,breakdown_description:_,attendant_id:i.attendant_id}).then((function(e){W(),r(Object(d.a)(Object(d.a)({},i),{},{broken:!0})),U("Fix request successfully made!")})).catch((function(e){console.log(e)}))},color:"primary",children:"Confirm"}),Object(k.jsx)(g.a,{onClick:W,color:"disable",children:"Cancel"})]})]})]}):Object(k.jsx)(ja,{message:"The manager was notified! Please wait for an assignment.",icon:Object(k.jsx)(La.a,{})}),Object(k.jsx)(w.a,{open:G,autoHideDuration:2e3,onClose:V,children:Object(k.jsx)(Ia,{onClose:V,severity:"success",children:T})})]})}var Fa=a(341),qa=a.n(Fa),Pa=Object(R.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function Ba(){var e=Pa(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"My Assignment",url:"".concat(n),icon:Object(k.jsx)(qa.a,{})}];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(E.a,{position:"fixed",className:e.appBar,children:Object(k.jsx)(X.a,{children:Object(k.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(k.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(k.jsx)(X.a,{}),Object(k.jsxs)("div",{className:e.drawerContainer,children:[Object(k.jsx)(ee.a,{children:i.map((function(t,a){return Object(k.jsx)(o.b,{to:t.url,className:e.link,children:Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ne.a,{children:t.icon}),Object(k.jsx)(ce.a,{primary:t.text})]})},t.index)}))}),Object(k.jsx)(te.a,{}),Object(k.jsx)(ee.a,{children:Object(k.jsxs)(ae.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(k.jsx)(ne.a,{children:Object(k.jsx)(re.a,{})}),Object(k.jsx)(ce.a,{primary:"Logout"})]})})]})]}),Object(k.jsxs)("main",{className:e.content,children:[Object(k.jsx)(X.a,{}),Object(k.jsx)(s.d,{children:Object(k.jsx)(s.b,{path:"".concat(c),component:Ea,exact:!0})})]})]})}var Aa=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){c(localStorage.getItem("user_type"))}),[]);return Object(k.jsx)("div",{children:function(){switch(a){case"customer":return Object(k.jsx)(Qe,{});case"manager":return Object(k.jsx)(pa,{});case"attendant":return Object(k.jsx)(Ba,{});case"maintainer":return Object(k.jsx)(Ca,{});default:return Object(k.jsx)("div",{children:"Nothing Here"})}}()})},Ma=function(){return Object(k.jsx)("div",{children:Object(k.jsx)(o.a,{children:Object(k.jsxs)(s.d,{children:[Object(k.jsx)(s.b,{path:"/",component:I,exact:!0}),Object(k.jsx)(s.b,{path:"/register",component:V}),Object(k.jsx)(J,{path:"/dashboard",component:Aa}),Object(k.jsx)(s.b,{path:"*",component:K})]})})})};v.a.defaults.baseURL="http://100.26.17.215:5000/",r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(D,{children:Object(k.jsx)(Ma,{})})}),document.getElementById("root"))}},[[664,1,2]]]);
//# sourceMappingURL=main.a6e970f0.chunk.js.map