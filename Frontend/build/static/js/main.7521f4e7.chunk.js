(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{570:function(e,t){},572:function(e,t){},583:function(e,t){},585:function(e,t){},612:function(e,t){},614:function(e,t){},615:function(e,t){},620:function(e,t){},622:function(e,t){},641:function(e,t){},653:function(e,t){},656:function(e,t){},662:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(18),r=a.n(i),o=a(17),s=a(24),l=a(8),d=a(5),j=a(165),u=a(705),b=a(752),h=a(750),O=a(86),x=a(714),m=a(328),p=a.n(m),g=a(713),f=a(10),v=a.n(f),y=a(704),_=a.p+"static/media/background.867bf8a8.jpg",C=a(749),w=a(747),S=function(e,t){switch(t.type){case"SET_REGISTERED":return Object(d.a)(Object(d.a)({},e),{},{registered:t.payload});default:return e}},N=a(1),k=Object(n.createContext)(),I={registered:!1},R=function(e){var t=Object(n.useReducer)(S,I),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(N.jsx)(k.Provider,{value:{data:c,dispatch:i},children:e.children})};function D(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var T=function(){var e={margin:"5px 0",fontSize:34},t={height:"100vh",backgroundImage:"url(".concat(_,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},a=Object(n.useContext)(k),c=a.data,i=a.dispatch,r=Object(n.useState)(!1),o=Object(l.a)(r,2),m=o[0],f=o[1],w=Object(n.useState)(""),S=Object(l.a)(w,2),I=S[0],R=S[1],T=Object(n.useState)({email:"",password:""}),F=Object(l.a)(T,2),q=F[0],P=F[1],E=Object(s.g)();return Object(n.useEffect)((function(){localStorage.getItem("user_id")&&localStorage.getItem("user_type")&&E.push("/dashboard")}),[E]),Object(N.jsxs)(j.a,{style:t,square:!0,children:[Object(N.jsx)(y.a,{}),Object(N.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(N.jsxs)(j.a,{elevation:10,style:{padding:20,width:280},children:[Object(N.jsxs)(u.a,{align:"center",children:[Object(N.jsx)(b.a,{style:{backgroundColor:"#3f50b5"},children:Object(N.jsx)(p.a,{})}),Object(N.jsx)("h2",{children:"Sign in"})]}),Object(N.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),v.a.post("http://100.26.17.215:5000/auth/login",q).then((function(e){console.log(e.data),localStorage.setItem("user_id",e.data.user_id),localStorage.setItem("user_type",e.data.user_type),localStorage.setItem("user_name",e.data.user_name),E.push("/dashboard")})).catch((function(e){R(e.response.data),console.log(e.response.data),f(!0)}))}(e)},children:[Object(N.jsx)(h.a,{label:"Enter Email",variant:"filled",placeholder:"Email",fullWidth:!0,style:e,required:!0,onChange:function(e){P(Object(d.a)(Object(d.a)({},q),{},{email:e.target.value}))}}),Object(N.jsx)(h.a,{type:"password",label:"Enter Password",variant:"filled",placeholder:"Password",fullWidth:!0,required:!0,style:e,onChange:function(e){P(Object(d.a)(Object(d.a)({},q),{},{password:e.target.value}))}}),Object(N.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,style:{fontSize:15,margin:"10px 0"},children:"Sign In"})]}),Object(N.jsx)(O.a,{children:"Dont have an account?"}),Object(N.jsx)(x.a,{href:"/register",children:"Register Here"})]}),Object(N.jsx)(C.a,{open:m,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&f(!1)},children:Object(N.jsx)(D,{severity:"error",style:{marginTop:"10px"},children:I})}),Object(N.jsx)(C.a,{open:c.registered,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&i({type:"SET_REGISTERED",payload:!1})},children:Object(N.jsx)(D,{severity:"success",style:{marginTop:"10px"},children:"Your account was successfully created!"})})]})]})},F=a(715),q=a(716),P=a(717),E=a(223),B=a(746),A=a(718),W=a(748),M=a(751),z=a(719),L=a(708),H=a(664);function G(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var U=Object(F.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},textField:{marginRight:e.spacing(2),width:"21ch",fontSize:20}}}));var V=function(){var e=U(),t={height:"100vh",backgroundImage:"url(".concat(_,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},a=Object(n.useState)("1"),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)("maintainer"),b=Object(l.a)(o,2),O=b[0],x=b[1],m=Object(n.useState)(!1),p=Object(l.a)(m,2),f=p[0],w=p[1],S=Object(n.useState)(""),I=Object(l.a)(S,2),R=I[0],D=I[1],T=Object(n.useState)({first_name:"",last_name:"",email:"",password:"",age:"",height_inch:"",height_feet:"",user_type:"maintainer"}),F=Object(l.a)(T,2),V=F[0],Y=F[1],J=Object(n.useState)({first_name:"",last_name:"",email:"",password:"",user_type:"attendant"}),Z=Object(l.a)(J,2),K=Z[0],Q=Z[1],X=Object(s.g)(),$=Object(n.useContext)(k).dispatch;return Object(n.useEffect)((function(){localStorage.getItem("user_id")&&localStorage.getItem("user_type")&&X.push("/dashboard")}),[X]),Object(N.jsxs)(j.a,{style:t,square:!0,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)("div",{className:"registration-page",children:Object(N.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(N.jsxs)(j.a,{elevation:10,style:{padding:20,width:900},children:[Object(N.jsx)("div",{style:{fontSize:"35px",justifyContent:"center",textAlign:"center",marginBottom:"10px"},children:"Registration"}),Object(N.jsx)("div",{className:e.root,children:Object(N.jsxs)(E.a,{value:i,children:[Object(N.jsx)(q.a,{position:"static",children:Object(N.jsxs)(B.a,{onChange:function(e,t){r(t)},children:[Object(N.jsx)(P.a,{label:"Customer Registration",value:"1"}),Object(N.jsx)(P.a,{label:"Employee Registration",value:"2"})]})}),Object(N.jsx)(A.a,{value:"2",children:Object(N.jsx)("div",{className:"registration-e",children:Object(N.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(e),v.a.post("http://100.26.17.215:5000/auth/register",Object(d.a)(Object(d.a)({},K),{},{user_type:O})).then((function(e){X.push("/"),console.log(e),$({type:"SET_REGISTERED",payload:!0})})).catch((function(e){console.log(e),D(e.response.data),console.log(e.response.data),w(!0)}))}(e)},children:Object(N.jsxs)(u.a,{container:!0,spacing:2,children:[Object(N.jsxs)(u.a,{item:!0,children:[Object(N.jsx)(h.a,{required:!0,label:"First Name",id:"employee-fname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{first_name:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,label:"Last Name",id:"employee-lname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{last_name:e.target.value}))}}),Object(N.jsxs)(L.a,{onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{user_type:e.target.value}))},component:"fieldset",children:[Object(N.jsx)(H.a,{required:!0,component:"legend",children:"Employee Type"}),Object(N.jsxs)(M.a,{"aria-label":"Employee Type",name:"employee",value:O,onChange:function(e,t){x(e.target.value),console.log(e.target.value)},children:[Object(N.jsx)(z.a,{value:"maintainer",control:Object(N.jsx)(W.a,{}),label:"Maintainer"}),Object(N.jsx)(z.a,{value:"attendant",control:Object(N.jsx)(W.a,{}),label:"Attendant"})]})]}),Object(N.jsx)(h.a,{required:!0,id:"employee-email",label:"Email",fullWidth:!0,margin:"normal",variant:"filled",type:"email",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{email:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,id:"employee-password",label:"Password",fullWidth:!0,margin:"normal",variant:"filled",type:"password",onChange:function(e){Q(Object(d.a)(Object(d.a)({},K),{},{password:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,id:"employee-cpassword",label:"Confirm Password",fullWidth:!0,margin:"normal",variant:"filled",type:"password"})]}),Object(N.jsx)("br",{}),Object(N.jsx)(u.a,{children:Object(N.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})})}),Object(N.jsx)(A.a,{value:"1",children:Object(N.jsx)("div",{className:"registration-c",children:Object(N.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=12*Number(V.height_feet)+Number(V.height_inch),a={first_name:V.first_name,last_name:V.last_name,email:V.email,password:V.password,age:Number(V.age),height:t,user_type:"customer"};console.log(a),v.a.post("http://100.26.17.215:5000/auth/register",a).then((function(e){X.push("/"),console.log(e),$({type:"SET_REGISTERED",payload:!0})})).catch((function(e){D(e.response.data),console.log(e.response.data),w(!0)}))}(e)},children:[Object(N.jsx)(u.a,{container:!0,spacing:2,children:Object(N.jsxs)(u.a,{item:!0,children:[Object(N.jsx)(h.a,{required:!0,label:"First Name",id:"customer-fname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{first_name:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,label:"Last Name",id:"customer-lname",className:e.textField,margin:"normal",variant:"filled",onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{last_name:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,variant:"filled",id:"customer-age",label:"Age",className:e.textField,margin:"normal",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{age:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,id:"customer-hfeet",margin:"normal",label:"Height",type:"number",className:e.textField,helperText:"Feet",InputLabelProps:{shrink:!0},variant:"filled",onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{height_feet:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,className:e.textField,id:"customer-hinches",label:"Height",type:"number",helperText:"Inches",margin:"normal",variant:"filled",InputLabelProps:{shrink:!0},onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{height_inch:e.target.value}))}}),Object(N.jsx)(h.a,{required:!0,className:e.textField,id:"customer-email",label:"Email",variant:"filled",margin:"normal",type:"email",onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{email:e.target.value}))}}),Object(N.jsxs)("div",{item:!0,className:"password",children:[Object(N.jsx)(h.a,{required:!0,type:"password",id:"filled-full-width",label:"Password",fullWidth:!0,margin:"normal",variant:"filled",onChange:function(e){Y(Object(d.a)(Object(d.a)({},V),{},{password:e.target.value}))}}),Object(N.jsx)(h.a,{type:"password",required:!0,id:"filled-full-width",label:"Confirm Password",fullWidth:!0,margin:"normal",variant:"filled"})]})]})}),Object(N.jsx)("br",{}),Object(N.jsx)(g.a,{variant:"contained",type:"submit",color:"primary",children:"Submit"})]})})})]})})]}),Object(N.jsx)(C.a,{open:f,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&w(!1)},children:Object(N.jsx)(G,{severity:"error",style:{marginTop:"10px"},children:R})})]})})]})},Y=a(342),J=function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return Object(N.jsx)(s.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return localStorage.getItem("user_id")&&localStorage.getItem("user_type")?Object(N.jsx)(t,Object(d.a)({},e)):Object(N.jsx)(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Z=Object(F.a)({root:{marginTop:"8rem",textAlign:"center"}}),K=function(){var e=Z();return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(O.a,{variant:"h1",component:"h2",gutterBottom:!0,children:"404"}),Object(N.jsx)(O.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Page Not Found"}),Object(N.jsx)(g.a,{variant:"contained",color:"Primary",href:"/",children:"Go back to Home"})]})},Q=a(731),X=a(730),$=a(712),ee=a(734),te=a(666),ae=a(732),ne=a(733),ce=a(83),ie=a.n(ce),re=a(158),oe=a.n(re),se=a(157),le=a.n(se),de=a(218),je=a.n(de),ue=a(341),be=a(720),he=a(721),Oe=a(722),xe=a(744),me=a(127),pe=a.n(me),ge=Object(F.a)((function(e){return{card:{display:"flex",maxWidth:560,backgroundColor:"#1c2e4a"},pos:{marginBottom:12},id:{fontSize:11},content:{flex:"1 0 auto"},cover:{width:200}}}));function fe(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var ve=function(e){var t=e.time_purchased.indexOf("T"),a=e.time_purchased.indexOf("."),n=e.time_purchased.indexOf("Z");return{date:e.time_purchased.slice(0,t),time:e.time_purchased.slice(t+1,a),ticketId:String(e.customer_id)+String(e.entrypass_id)+String(e.time_purchased.slice(a+1,n)),expired:e.expired}};var ye=function(e){var t=ge(),a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),j=s[0],b=s[1],h=function(e,t){"clickaway"!==t&&r(!1)},x=Object(n.useState)([]),m=Object(l.a)(x,2),p=m[0],f=m[1];return Object(n.useEffect)((function(){v.a.post("http://100.26.17.215:5000/customer/get-all-pass",{user_id:localStorage.getItem("user_id")}).then((function(e){var t=e.data.map((function(e){return ve(e)}));f(t)})).catch((function(e){console.log(e.res)}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),v.a.post("http://100.26.17.215:5000/customer/purchase-pass",{user_id:localStorage.getItem("user_id")}).then((function(e){if("you already have a valid pass"===e.data)b(e.data),r(!0);else{var t=ve(e.data),a=Object(d.a)(Object(d.a)({},t),{},{expired:!1});f([].concat(Object(ue.a)(p),[a]))}})).catch((function(e){console.log(e)}))}(e)},children:Object(N.jsx)("div",{children:Object(N.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Purchase Entry Pass"})})}),Object(N.jsx)("br",{}),Object(N.jsx)(u.a,{container:!0,spacing:3,children:p.map((function(e){return Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsxs)(be.a,{className:t.card,children:[Object(N.jsx)(he.a,{className:t.content,children:Object(N.jsxs)(xe.a,{color:"#FFFFFF",children:[Object(N.jsx)(O.a,{variant:"h5",component:"h2",align:"center",children:"Day Entry Pass"}),Object(N.jsxs)(O.a,{className:t.pos,children:[Object(N.jsx)("span",{style:{color:pe.a[400]},children:"Date Purchased:"})," ",e.date]}),Object(N.jsxs)(O.a,{className:t.pos,children:[Object(N.jsx)("span",{style:{color:pe.a[400]},children:"Time Purchased:"})," ",e.time]}),Object(N.jsxs)(O.a,{className:t.pos,children:[Object(N.jsx)("span",{style:{color:pe.a[400]},children:"Status:"})," ",e.expired?Object(N.jsx)("span",{style:{color:"red"},children:"expired"}):Object(N.jsx)("span",{style:{color:"green"},children:"valid"})]}),Object(N.jsxs)(O.a,{className:t.id,children:[Object(N.jsx)("span",{style:{color:pe.a[400]},children:"Pass ID:"})," ",e.ticketId]})]})}),Object(N.jsx)(Oe.a,{className:t.cover,image:"https://media.beam.usnews.com/de/2248f0a712a4c92fa641b0dd037bb7/media:01216eb80ba74e33b55f2ebe4d36faceTheme_Parks-Slow_Reopening_73567.jpg"})]})})}))}),Object(N.jsx)(C.a,{open:i,autoHideDuration:2e3,onClose:h,children:Object(N.jsx)(fe,{onClose:h,severity:"error",children:j})})]})},_e=a(724),Ce=a(754),we=a(723),Se=Object(F.a)({root:{marginTop:"20px"},msg:{marginTop:"10px"}}),Ne=function(e){var t=Se(),a=e.type;return Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)(g.a,{variant:"contained",color:"Primary",href:"/dashboard",children:"Go to pass page"}),Object(N.jsx)("div",{className:t.msg,children:Object(N.jsxs)(O.a,{variant:"h6",children:["Valid entry pass needed to view ",a]})})]})},ke=a(82),Ie=a.n(ke),Re=a(60),De=a.n(Re),Te=a(725),Fe=a(729),qe=a(727),Pe=a(728),Ee=a(726),Be=a(665),Ae=a(329),We=a(331),Me=a.n(We),ze=function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?Object(N.jsx)(s.a,{to:"/dashboard"}):Object(N.jsxs)("span",{children:[t,":",a,":",n]})},Le=function(e){Object(s.g)();return Object(N.jsx)("div",{children:Object(N.jsx)(Ce.a,{title:"Time left for current pass",children:Object(N.jsxs)(g.a,{variant:"outlined",style:{marginBottom:5},size:"large",children:[Object(N.jsx)(Me.a,{style:{marginRight:5}}),Object(N.jsx)(Ae.a,{date:Date.now()+e.time,renderer:ze})]})})})};function He(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Ge=Object(F.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}})),Ue=c.a.forwardRef((function(e,t){return Object(N.jsx)(Be.a,Object(d.a)({direction:"up",ref:t},e))}));function Ve(){var e=Ge(),t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(!0),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useRef)({});Object(n.useEffect)((function(){v.a.post("ride/all-customer",{customer_id:localStorage.getItem("user_id")}).then((function(e){"You have an unexpired entry pass"!==e.data?(b.current=function(e){var t=e.hours?e.hours:0,a=e.minutes?e.minutes:0,n=e.seconds?e.seconds:0,c=e.milliseconds?e.milliseconds:0;return 864e5-Math.round(1e3*(3600*t+60*a+n)+c)}(e.data.time_left),r(e.data.rides)):j(!1)})).catch((function(e){return console.log(e)}))}),[]);var h=c.a.useState(!1),x=Object(l.a)(h,2),m=x[0],p=x[1],f=function(e,t){"clickaway"!==t&&p(!1)},_=c.a.useState({}),w=Object(l.a)(_,2),S=(w[0],w[1],c.a.useState(!1)),k=Object(l.a)(S,2),I=k[0],R=k[1],D=function(){R(!1)},T=function(e){var t={ride_id:e,customer_id:Number(localStorage.getItem("user_id"))};v.a.post("ride/ride",t).then((function(e){p(!0)})).catch((function(e){console.log(e)}))};return Object(N.jsxs)(we.a,{className:e.cardGrid,children:[Object(N.jsx)(y.a,{}),0!==i.length?Object(N.jsx)(Le,{time:b.current}):null,Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[d?i.map((function(t){return Object(N.jsx)(u.a,{item:!0,md:3,children:Object(N.jsxs)(be.a,{className:e.card,children:[Object(N.jsx)(Oe.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(N.jsx)(he.a,{className:e.cardContent,children:Object(N.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(N.jsx)(Ce.a,{title:"broken",children:Object(N.jsx)(Ie.a,{color:"disabled"})}):null,t.rainedout?Object(N.jsx)(Ce.a,{title:"rained out",children:Object(N.jsx)(De.a,{color:"disabled"})}):null]})}),Object(N.jsxs)(_e.a,{className:e.buttons,children:[t.rainedout||t.broken?Object(N.jsx)(g.a,{color:"primary",variant:"contained",disabled:!0,children:"Ride!"}):Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return T(t.ride_id)},children:"Ride!"}),Object(N.jsx)(Ce.a,{title:Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Description"}),Object(N.jsx)("div",{className:e.paragraph,children:t.description}),Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Location"}),Object(N.jsx)("div",{className:e.paragraph,children:t.location}),Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Age Restriciton"}),Object(N.jsx)("div",{className:e.paragraph,children:t.age_restriction?t.age_restriction:"None"}),Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Height Resctriction"}),Object(N.jsx)("div",{className:e.paragraph,children:t.height_restriction?"".concat(Math.round(t.height_restriction/12),"' ").concat(t.height_restriction%12,"''"):"None"})]}),children:Object(N.jsx)(g.a,{variant:"outlined",children:"Info"})})]})]})},t.ride_id)})):Object(N.jsx)(Ne,{type:"rides"}),Object(N.jsx)(C.a,{open:m,autoHideDuration:2e3,onClose:f,children:Object(N.jsx)(He,{onClose:f,severity:"success",children:"Wheee! enjoying the fun ride"})}),Object(N.jsxs)(Te.a,{open:I,TransitionComponent:Ue,onClose:D,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(N.jsx)(Ee.a,{id:"alert-dialog-slide-title",children:"(ride.name)"}),Object(N.jsxs)(qe.a,{children:[Object(N.jsx)(Pe.a,{children:"(ride.description)"}),Object(N.jsx)(Pe.a,{children:"Location"}),Object(N.jsx)(Pe.a,{children:"(ride.location)"}),Object(N.jsx)(Pe.a,{children:"Age Restriction"}),Object(N.jsx)(Pe.a,{children:"(ride.age_restriction)"}),Object(N.jsx)(Pe.a,{children:"Height Restriction"}),Object(N.jsx)(Pe.a,{children:"ride.height_restriction"}),Object(N.jsx)(Pe.a,{})]}),Object(N.jsx)(Fe.a,{children:Object(N.jsx)(g.a,{onClick:D,color:"primary",children:"Close"})})]})]})]})}function Ye(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Je=Object(F.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function Ze(){var e=Je(),t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(!0),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useRef)({});Object(n.useEffect)((function(){v.a.post("attraction/all-customer",{customer_id:localStorage.getItem("user_id")}).then((function(e){"You have an unexpired entry pass"!==e.data?(b.current=function(e){var t=e.hours?e.hours:0,a=e.minutes?e.minutes:0,n=e.seconds?e.seconds:0,c=e.milliseconds?e.milliseconds:0;return 864e5-Math.round(1e3*(3600*t+60*a+n)+c)}(e.data.time_left),r(e.data.attractions)):j(!1)})).catch((function(e){return console.log(e)}))}),[]);var h=c.a.useState(!1),x=Object(l.a)(h,2),m=x[0],p=x[1],f=function(e,t){"clickaway"!==t&&p(!1)},_=function(e){var t={attraction_id:e.attraction_id,customer_id:Number(localStorage.getItem("user_id"))};v.a.post("attraction/visit",t).then((function(e){p(!0)})).catch((function(e){console.log(e)}))};return Object(N.jsxs)(we.a,{className:e.cardGrid,children:[Object(N.jsx)(y.a,{}),0!==i.length?Object(N.jsx)(Le,{time:b.current}):null,Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[d?i.map((function(t){return Object(N.jsx)(u.a,{item:!0,md:3,children:Object(N.jsxs)(be.a,{className:e.card,children:[Object(N.jsx)(Oe.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(N.jsx)(he.a,{className:e.cardContent,children:Object(N.jsxs)(O.a,{variant:"h5",children:[t.name," ",t.rainedout?Object(N.jsx)(Ce.a,{title:"rained out",children:Object(N.jsx)(De.a,{color:"disabled"})}):null]})}),Object(N.jsxs)(_e.a,{className:e.buttons,children:[t.rainedout?Object(N.jsx)(g.a,{disabled:!0,color:"primary",variant:"contained",children:"Visit!"}):Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return _(t)},children:"Visit!"}),Object(N.jsx)(Ce.a,{title:Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Description"}),Object(N.jsx)("div",{className:e.paragraph,children:t.description}),Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Location"}),Object(N.jsx)("div",{className:e.paragraph,children:t.location}),Object(N.jsx)(O.a,{color:"inherit",variant:"subtitle1",children:"Age Restriciton"}),Object(N.jsx)("div",{className:e.paragraph,children:t.age_restriction?t.age_restriction:"None"})]}),children:Object(N.jsx)(g.a,{variant:"outlined",children:"Info"})})]})]})},t.attraction_id)})):Object(N.jsx)(Ne,{type:"attractions"}),Object(N.jsx)(C.a,{open:m,autoHideDuration:2e3,onClose:f,children:Object(N.jsx)(Ye,{onClose:f,severity:"success",children:"Whaaa! having fun at the attraction"})})]})]})}var Ke=Object(F.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function Qe(){var e=Ke(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path,i=[{text:"Entry Pass",url:"".concat(n),icon:Object(N.jsx)(je.a,{})},{text:"Rides",url:"".concat(n,"/rides"),icon:Object(N.jsx)(le.a,{})},{text:"Attractions",url:"".concat(n,"/attractions"),icon:Object(N.jsx)(oe.a,{})}];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(q.a,{position:"fixed",className:e.appBar,children:Object(N.jsx)(X.a,{children:Object(N.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(N.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)("div",{className:e.drawerContainer,children:[Object(N.jsx)($.a,{children:i.map((function(t,a){return Object(N.jsx)(o.b,{to:t.url,className:e.link,children:Object(N.jsxs)(te.a,{children:[Object(N.jsx)(ae.a,{children:t.icon}),Object(N.jsx)(ne.a,{primary:t.text})]})},a)}))}),Object(N.jsx)(ee.a,{}),Object(N.jsx)($.a,{children:Object(N.jsxs)(te.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(N.jsx)(ae.a,{children:Object(N.jsx)(ie.a,{})}),Object(N.jsx)(ne.a,{primary:"Logout"})]})})]})]}),Object(N.jsxs)("main",{className:e.content,children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"".concat(c),component:ye,exact:!0}),Object(N.jsx)(s.b,{path:"".concat(c,"/rides"),component:Ve}),Object(N.jsx)(s.b,{path:"".concat(c,"/attractions"),component:Ze})]})]})]})}var Xe=a(709),$e=a(741),et=a(745),tt=a(332),at={labels:["1","2","3","4","5","6"],datasets:[{label:"# of Red Votes",data:[12,19,3,5,2,3],backgroundColor:"rgb(255, 99, 132)"},{label:"# of Blue Votes",data:[2,3],backgroundColor:"rgb(54, 162, 235)"},{label:"# of Green Votes",data:[3,10,13,15,22,30],backgroundColor:"rgb(75, 192, 192)"},{label:"#1",data:[3,10,13,15,22,30],backgroundColor:"Black"},{label:"#2",data:[3,10,13,15,22,30],backgroundColor:"Black"}]},nt={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,maintainAspectRatio:!1},ct=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{minHeight:475},children:Object(N.jsx)(tt.a,{data:at,options:nt})})})},it=a(6),rt=a(738),ot=a(740),st=a(735),lt=a(737),dt=a(739),jt=a(755),ut=a(736),bt=Object(it.a)((function(e){return{head:{backgroundColor:"#3f50b5",color:e.palette.common.white},body:{fontSize:14}}}))(st.a),ht=Object(it.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#e8eaf6"}}}}))(ut.a),Ot=Object(F.a)({root:{width:"100%"},container:{maxHeight:455}}),xt=function(e,t){var a=e.charAt(0).toUpperCase()+e.slice(1);return{"daily total":"Daily Total ".concat(a),"monthly total":"Monthly Total ".concat(a),"daily average by month":"Daily Average ".concat(a," by Month"),"daily max by month":"Daily Maximum ".concat(a," by Month"),"daily min by month":"Daily Minimum ".concat(a," by Month")}[t]},mt=function(e,t,a,n){return void 0===t?"None":"ride"===e?a[t]:n[t]};function pt(e){var t=Ot(),a=Object(n.useState)(0),c=Object(l.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(25),s=Object(l.a)(o,2),d=s[0],u=s[1],b=Object(n.useState)(),h=Object(l.a)(b,2),O=h[0],x=h[1];return Object(n.useEffect)((function(){var t=function(e,t,a,n){var c=[],i=[];if("visits"===e.reportType)"daily total"===e.calculate?(c=t.map((function(e){return{visits:e.visits,date:"".concat(e.month,"/").concat(e.day,"/").concat(e.year)}})),i=[{id:"visits",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{visits:"daily average by month"===e.calculate?Math.round(t.visits):t.visits,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"visits",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}]);else if("usage"===e.reportType){var r="ride"===e.type?"usage":"visit",o="ride"===e.type?e.ride_id:e.attraction_id,s=mt(e.type,o,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:s,usage:t[r],date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"usage",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:s,usage:"daily average by month"===e.calculate?Math.round(t[r]):t[r],date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"usage",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}else if("breakdowns"===e.reportType){var l=mt("ride",e.ride_id,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:l,breakdowns:t.breakdowns,date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"breakdowns",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:l,breakdowns:"daily average by month"===e.calculate?Math.round(t.breakdowns):t.breakdowns,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"breakdowns",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}else if("rainouts"===e.reportType){var d="ride"===e.type?e.ride_id:e.attraction_id,j=mt(e.type,d,a,n);"daily total"===e.calculate?(c=t.map((function(t){return{name:"all"===e.show?t.name:j,rainouts:t.rainouts,date:"".concat(t.month,"/").concat(t.day,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"rainouts",label:xt(e.reportType,e.calculate)},{id:"date",label:"Date"}]):(c=t.map((function(t){return{name:"all"===e.show?t.name:j,rainouts:"daily average by month"===e.calculate?Math.round(t.rainouts):t.rainouts,date:"".concat(t.month,"/").concat(t.year)}})),i=[{id:"name",label:"Name"},{id:"rainouts",label:xt(e.reportType,e.calculate)},{id:"date",label:"Month"}])}return{rows:c,columns:i}}(e.params,e.report,e.ridePairs,e.attractionPairs);console.log(t),x(t),e.setExcelData(t)}),[e]),Object(N.jsx)(N.Fragment,{children:O?Object(N.jsxs)(j.a,{className:t.root,children:[Object(N.jsx)(lt.a,{className:t.container,children:Object(N.jsxs)(rt.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(N.jsx)(dt.a,{children:Object(N.jsx)(ut.a,{children:O.columns.map((function(e){return Object(N.jsx)(bt,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(N.jsx)(ot.a,{children:O.rows.slice(i*d,i*d+d).map((function(e){return Object(N.jsx)(ht,{role:"checkbox",tabIndex:-1,children:O.columns.map((function(t){var a=e[t.id];return Object(N.jsx)(st.a,{align:t.align,children:t.format&&"number"===typeof a?t.format(a):a},t.id)}))},e.code)}))})]})}),Object(N.jsx)(jt.a,{rowsPerPageOptions:[25,100],component:"div",count:O.rows.length,rowsPerPage:d,page:i,onChangePage:function(e,t){r(t)},onChangeRowsPerPage:function(e){u(+e.target.value),r(0)}})]}):null})}var gt=a(164),ft=a.n(gt),vt=a(742);function yt(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var _t=ft.a.ExcelFile,Ct=ft.a.ExcelFile.ExcelSheet,wt=ft.a.ExcelFile.ExcelColumn,St=Object(F.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:150,maxWidth:150,textAlign:"left"}}}));function Nt(){var e=St(),t=Object(n.useState)("visits"),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],b=o[1],O=Object(n.useState)(""),x=Object(l.a)(O,2),m=x[0],p=x[1],f=Object(n.useState)("daily total"),y=Object(l.a)(f,2),_=y[0],w=y[1],S=Object(n.useState)("all"),k=Object(l.a)(S,2),I=k[0],R=k[1],D=Object(n.useState)("ride"),T=Object(l.a)(D,2),F=T[0],q=T[1],P=Object(n.useState)([]),E=Object(l.a)(P,2),B=E[0],A=E[1],W=Object(n.useState)([]),M=Object(l.a)(W,2),z=M[0],H=M[1],G=Object(n.useState)(1),U=Object(l.a)(G,2),V=U[0],Y=U[1],J=Object(n.useState)(1),Z=Object(l.a)(J,2),K=Z[0],Q=Z[1],X=Object(n.useState)(),$=Object(l.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(),ne=Object(l.a)(ae,2),ce=ne[0],ie=ne[1],re=Object(n.useState)(!1),oe=Object(l.a)(re,2),se=oe[0],le=(oe[1],Object(n.useState)(!1)),de=Object(l.a)(le,2),je=de[0],ue=de[1],be=Object(n.useState)(""),he=Object(l.a)(be,2),Oe=he[0],xe=he[1],me=function(e,t){"clickaway"!==t&&ue(!1)},pe=Object(n.useState)(),ge=Object(l.a)(pe,2),fe=ge[0],ve=ge[1],ye=Object(n.useState)(),_e=Object(l.a)(ye,2),Ce=_e[0],we=_e[1],Se=Object(n.useState)(!1),Ne=Object(l.a)(Se,2),ke=Ne[0],Ie=Ne[1],Re=Object(n.useState)(),De=Object(l.a)(Re,2),Te=De[0],Fe=De[1];return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){var t=e.data.reduce((function(e,t){return e[t.ride_id]=t.name,e}),{});te(t),A(e.data)})).catch((function(e){return console.log(e)})),v.a.get("attraction/all").then((function(e){var t=e.data.reduce((function(e,t){return e[t.attraction_id]=t.name,e}),{});ie(t),H(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsxs)(u.a,{container:!0,spacing:1,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(g.a,{color:"primary",variant:"contained",size:"medium",onClick:function(){return function(){if(!s||!m)return xe("Please pick a date range to generate report"),void ue(!0);if(s>m)return xe("End date can not come before start date"),void ue(!0);Ie(!0);var e={};e="visits"===c?{start_date:s,end_date:m,calculate:_}:"breakdowns"===c?"all"===I?{start_date:s,end_date:m,calculate:_,show:I}:{start_date:s,end_date:m,calculate:_,show:I,ride_id:V}:"all"===I?{start_date:s,end_date:m,calculate:_,show:I,type:F}:"ride"===F?{start_date:s,end_date:m,calculate:_,show:I,type:F,ride_id:V}:{start_date:s,end_date:m,calculate:_,show:I,type:F,attraction_id:K},v.a.post("manager/".concat(c),e).then((function(t){ve(t.data),we(Object(d.a)({reportType:c},e)),Ie(!1)})).catch((function(e){xe("Error occured while generating the report for this criteria"),ue(!0),console.log(e)}))}()},children:"Generate Report"}),fe?Object(N.jsx)(N.Fragment,{children:Te?Object(N.jsx)(_t,{element:Object(N.jsx)(g.a,{color:"primary",variant:"contained",style:{marginLeft:20},size:"medium",children:"Download Excel"}),children:Object(N.jsx)(Ct,{data:Te.rows,name:c,children:Te.columns.map((function(e){return Object(N.jsx)(wt,{label:e.label,value:e.id})}))})}):null}):null]}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsxs)(j.a,{className:e.paper,children:[Object(N.jsxs)(L.a,{className:e.formControl,children:[Object(N.jsx)(Xe.a,{children:"Report Type"}),Object(N.jsxs)(et.a,{value:c,onChange:function(e){"breakdowns"===e.target.value?(q("ride"),i(e.target.value)):i(e.target.value)},children:[Object(N.jsx)($e.a,{value:"visits",children:"Visits"}),Object(N.jsx)($e.a,{value:"usage",children:"Usage"}),Object(N.jsx)($e.a,{value:"breakdowns",children:"Breakdowns"}),Object(N.jsx)($e.a,{value:"rainouts",children:"Rainouts"})]})]}),Object(N.jsx)(L.a,{className:e.formControl,children:Object(N.jsx)(h.a,{id:"start_date",label:"Start date",type:"date",className:e.textField,InputLabelProps:{shrink:!0},value:s,onChange:function(e){return b(e.target.value)}})}),Object(N.jsx)(L.a,{className:e.formControl,children:Object(N.jsx)(h.a,{id:"end_date",label:"End date",type:"date",className:e.textField,InputLabelProps:{shrink:!0},value:m,onChange:function(e){return p(e.target.value)}})}),Object(N.jsxs)(L.a,{className:e.formControl,children:[Object(N.jsx)(Xe.a,{children:"Calculate"}),Object(N.jsxs)(et.a,{value:_,defaultValue:1,onChange:function(e){return w(e.target.value)},children:[Object(N.jsx)($e.a,{value:"daily total",children:"Daily Total"}),Object(N.jsx)($e.a,{value:"monthly total",children:"Monthly Total"}),Object(N.jsx)($e.a,{value:"daily average by month",children:"Daily Average by Month"}),Object(N.jsx)($e.a,{value:"daily max by month",children:"Daily Maximum by Month"}),Object(N.jsx)($e.a,{value:"daily min by month",children:"Daily Minimum by Month"})]})]}),"visits"!==c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(L.a,{className:e.formControl,children:[Object(N.jsx)(Xe.a,{children:"Show"}),Object(N.jsxs)(et.a,{value:I,onChange:function(e){return R(e.target.value)},children:[" ",Object(N.jsx)($e.a,{value:"all",children:"All"}),Object(N.jsx)($e.a,{value:"one",children:"One"})]})]}),Object(N.jsxs)(L.a,{className:e.formControl,children:[Object(N.jsx)(Xe.a,{children:"Type"}),Object(N.jsxs)(et.a,{value:F,onChange:function(e){return q(e.target.value)},children:[Object(N.jsx)($e.a,{value:"ride",children:"Ride"}),"breakdowns"!==c?Object(N.jsx)($e.a,{value:"attraction",children:"Attraction"}):null]})]}),"one"===I?Object(N.jsxs)(L.a,{className:e.formControl,children:[Object(N.jsx)(Xe.a,{children:"Name"}),"ride"===F?Object(N.jsx)(et.a,{value:V,onChange:function(e){return Y(e.target.value)},children:B.map((function(e){return Object(N.jsx)($e.a,{value:e.ride_id,children:e.name},e.ride_id)}))}):Object(N.jsx)(et.a,{value:K,onChange:function(e){return Q(e.target.value)},children:z.map((function(e){return Object(N.jsx)($e.a,{value:e.attraction_id,children:e.name},e.attraction_id)}))})]}):null]}):null]})}),ke?Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(vt.a,{})}):null,fe&&!ke?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.a,{item:!0,xs:se?7:12,children:Object(N.jsx)(pt,{report:fe,params:Ce,ridePairs:ee,attractionPairs:ce,setExcelData:Fe})}),se?Object(N.jsx)(u.a,{item:!0,xs:5,children:Object(N.jsx)(j.a,{className:e.paper,children:Object(N.jsx)(ct,{report:fe,params:Ce})})}):null]}):null]}),Object(N.jsx)(C.a,{open:je,autoHideDuration:2500,onClose:me,children:Object(N.jsx)(yt,{onClose:me,severity:"error",children:Oe})})]})}var kt=a(28),It=a.n(kt),Rt=a(50),Dt=a(162),Tt=a.n(Dt),Ft=a(161),qt=a.n(Ft),Pt=a(160),Et=a.n(Pt);function Bt(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var At=Object(F.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function Wt(){var e=At(),t=Object(s.i)(),a=t.url,i=(t.path,Object(n.useState)([])),r=Object(l.a)(i,2),j=r[0],b=r[1],h=Object(n.useState)([]),x=Object(l.a)(h,2),m=x[0],p=x[1],f=Object(n.useState)({}),_=Object(l.a)(f,2),w=_[0],S=_[1],k=Object(n.useState)({}),I=Object(l.a)(k,2),R=I[0],D=I[1],T=Object(n.useState)(!1),F=Object(l.a)(T,2),q=F[0],P=F[1],E=Object(n.useState)(""),B=Object(l.a)(E,2),A=B[0],W=B[1],M=function(e,t){"clickaway"!==t&&P(!1)},z=c.a.useState(!1),H=Object(l.a)(z,2),G=H[0],U=H[1],V=function(){var e=Object(Rt.a)(It.a.mark((function e(t){var a,n;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(t),e.next=3,v.a.get("manager/unassinged-attendants").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:if(a=e.sent,p(a),!t.attendant_id){e.next=12;break}return e.next=8,v.a.post("manager/get-one-attendant",{attendant_id:t.attendant_id}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 8:n=e.sent,S(n),e.next=13;break;case 12:S({});case 13:U(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){U(!1)},J=function(e){v.a.put("manager/ride-archive",e).then((function(t){b(j.map((function(t){return t.ride_id===e.ride_id?Object(d.a)(Object(d.a)({},t),{},{archived:e.archive}):t}))),e.archive?(W("Ride successfully archived!"),P(!0)):(W("Ride successfully unarchived!"),P(!0))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(j),Object(N.jsxs)(we.a,{className:e.cardGrid,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(o.b,{to:"".concat(a,"/add-ride"),style:{textDecoration:"none"},children:Object(N.jsxs)(g.a,{variant:"contained",color:"primary",style:{paddingLeft:13,marginBottom:10},children:[Object(N.jsx)(Et.a,{style:{marginRight:5}}),"Add New"]})}),Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[j.map((function(t){return Object(N.jsx)(u.a,{item:!0,md:3,children:Object(N.jsxs)(be.a,{className:e.card,children:[Object(N.jsx)(Oe.a,{className:e.cardMedia,image:t.picture?t.picture:"http://100.26.17.215:5000/default-coverImage.png"}),Object(N.jsx)(he.a,{className:e.cardContent,children:Object(N.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(N.jsx)(Ce.a,{title:"broken",children:Object(N.jsx)(Ie.a,{color:"disabled"})}):null,t.rainedout?Object(N.jsx)(Ce.a,{title:"rained out",children:Object(N.jsx)(De.a,{color:"disabled"})}):null]})}),Object(N.jsxs)(_e.a,{className:e.buttons,children:[t.attendant_id?Object(N.jsx)("div",{children:Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return function(e){console.log({assignment_type:"ride",attendant_id:e.attendant_id,ride_id:e.ride_id}),v.a.delete("manager/remove-assignment",{data:{assignment_type:"ride",attendant_id:e.attendant_id,ride_id:e.ride_id}}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.ride_id===t.ride_id?t:e}))),W("Attendant successfully removed!"),P(!0)})).catch((function(e){return console.log(e)}))}(t)},title:"Assigned to ".concat(t.first_name," ").concat(t.last_name),children:"Unassign"})}):Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return V(t)},children:"Assign"}),Object(N.jsx)(o.b,{to:"".concat(a,"/info-ride/").concat(t.ride_id),style:{textDecoration:"none"},children:Object(N.jsx)(g.a,{variant:"contained",style:{paddingLeft:13},children:"Info"})}),t.archived?Object(N.jsx)(g.a,{title:"Unarchive",variant:"contained",onClick:function(){return J({ride_id:t.ride_id,archive:!1})},children:Object(N.jsx)(qt.a,{})}):Object(N.jsx)(g.a,{title:"Archive",variant:"contained",onClick:function(){return J({ride_id:t.ride_id,archive:!0})},children:Object(N.jsx)(Tt.a,{})})]})]})},t.ride_id)})),Object(N.jsx)("div",{children:Object(N.jsxs)(Te.a,{open:G,onClose:Y,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(qe.a,{children:Object(N.jsxs)(L.a,{className:e.formControl,fullWidth:!0,children:[Object(N.jsx)(Xe.a,{children:"Attendant"}),console.log(),Object(N.jsxs)(et.a,{value:w.account_id?w:"",onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[w.account_id?Object(N.jsx)($e.a,{value:w,children:w.first_name+" "+w.last_name}):null,m.map((function(e){return Object(N.jsx)($e.a,{value:e,children:e.first_name+" "+e.last_name},e.account_id)}))]})]})}),Object(N.jsxs)(Fe.a,{children:[Object(N.jsx)(g.a,{onClick:function(){return R.attendant_id!==w.account_id&&null!=w.account_id&&v.a.post("manager/new-assignment",{assignment_type:"ride",attendant_id:w.account_id,ride_id:R.ride_id}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.ride_id===t.ride_id?t:e}))),W("Attendant successfully assigned!"),P(!0)})).catch((function(e){return console.log(e)})),void Y()},color:"primary",children:"Confirm"}),Object(N.jsx)(g.a,{onClick:Y,color:"primary",children:"Cancel"})]})]})}),Object(N.jsx)(C.a,{open:q,autoHideDuration:2e3,onClose:M,children:Object(N.jsx)(Bt,{onClose:M,severity:"success",children:A})})]})]})}function Mt(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var zt=Object(F.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}}));function Lt(){var e=zt(),t=Object(s.i)(),a=t.url,i=(t.path,Object(n.useState)([])),r=Object(l.a)(i,2),j=r[0],b=r[1],h=Object(n.useState)([]),x=Object(l.a)(h,2),m=x[0],p=x[1],f=Object(n.useState)({}),_=Object(l.a)(f,2),w=_[0],S=_[1],k=Object(n.useState)({}),I=Object(l.a)(k,2),R=I[0],D=I[1],T=Object(n.useState)(!1),F=Object(l.a)(T,2),q=F[0],P=F[1],E=Object(n.useState)(""),B=Object(l.a)(E,2),A=B[0],W=B[1],M=function(e,t){"clickaway"!==t&&P(!1)},z=c.a.useState(!1),H=Object(l.a)(z,2),G=H[0],U=H[1],V=function(){var e=Object(Rt.a)(It.a.mark((function e(t){var a,n;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(t),e.next=3,v.a.get("manager/unassinged-attendants").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:if(a=e.sent,p(a),!t.attendant_id){e.next=12;break}return e.next=8,v.a.post("manager/get-one-attendant",{attendant_id:t.attendant_id}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 8:n=e.sent,S(n),e.next=13;break;case 12:S({});case 13:U(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){U(!1)},J=function(e){v.a.put("manager/attraction-archive",e).then((function(t){b(j.map((function(t){return t.attraction_id===e.attraction_id?Object(d.a)(Object(d.a)({},t),{},{archived:e.archive}):t}))),e.archive?(W("attraction successfully archived!"),P(!0)):(W("attraction successfully unarchived!"),P(!0))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){v.a.get("attraction/all").then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(j),Object(N.jsxs)(we.a,{className:e.cardGrid,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(o.b,{to:"".concat(a,"/add-attraction"),style:{textDecoration:"none"},children:Object(N.jsxs)(g.a,{variant:"contained",color:"primary",style:{paddingLeft:13,marginBottom:10},children:[Object(N.jsx)(Et.a,{style:{marginRight:5}}),"Add New"]})}),Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[j.map((function(t){return Object(N.jsx)(u.a,{item:!0,md:3,children:Object(N.jsxs)(be.a,{className:e.card,children:[Object(N.jsx)(Oe.a,{className:e.cardMedia,image:t.picture?t.picture:"http://100.26.17.215:5000/default-coverImage.png"}),Object(N.jsx)(he.a,{className:e.cardContent,children:Object(N.jsxs)(O.a,{variant:"h5",children:[t.name,t.broken?Object(N.jsx)(Ce.a,{title:"broken",children:Object(N.jsx)(Ie.a,{color:"disabled"})}):null,t.rainedout?Object(N.jsx)(Ce.a,{title:"rained out",children:Object(N.jsx)(De.a,{color:"disabled"})}):null]})}),Object(N.jsxs)(_e.a,{className:e.buttons,children:[t.attendant_id?Object(N.jsx)("div",{children:Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return function(e){console.log({assignment_type:"attraction",attendant_id:e.attendant_id,attraction_id:e.attraction_id}),v.a.delete("manager/remove-assignment",{data:{assignment_type:"attraction",attendant_id:e.attendant_id,attraction_id:e.attraction_id}}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.attraction_id===t.attraction_id?t:e}))),W("Attendant successfully removed!"),P(!0)})).catch((function(e){return console.log(e)}))}(t)},title:"Assigned to ".concat(t.first_name," ").concat(t.last_name),children:"Unassign"})}):Object(N.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return V(t)},children:"Assign"}),Object(N.jsx)(o.b,{to:"".concat(a,"/info-attraction/").concat(t.attraction_id),style:{textDecoration:"none"},children:Object(N.jsx)(g.a,{variant:"contained",style:{paddingLeft:13},children:"Info"})}),t.archived?Object(N.jsx)(g.a,{title:"Unarchive",variant:"contained",onClick:function(){return J({attraction_id:t.attraction_id,archive:!1})},children:Object(N.jsx)(qt.a,{})}):Object(N.jsx)(g.a,{title:"Archive",variant:"contained",onClick:function(){return J({attraction_id:t.attraction_id,archive:!0})},children:Object(N.jsx)(Tt.a,{})})]})]})},t.attraction_id)})),Object(N.jsx)("div",{children:Object(N.jsxs)(Te.a,{open:G,onClose:Y,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(qe.a,{children:Object(N.jsxs)(L.a,{className:e.formControl,fullWidth:!0,children:[Object(N.jsx)(Xe.a,{children:"Attendant"}),console.log(),Object(N.jsxs)(et.a,{value:w.account_id?w:"",onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[w.account_id?Object(N.jsx)($e.a,{value:w,children:w.first_name+" "+w.last_name}):null,m.map((function(e){return Object(N.jsx)($e.a,{value:e,children:e.first_name+" "+e.last_name},e.account_id)}))]})]})}),Object(N.jsxs)(Fe.a,{children:[Object(N.jsx)(g.a,{onClick:function(){return R.attendant_id!==w.account_id&&null!=w.account_id&&v.a.post("manager/new-assignment",{assignment_type:"attraction",attendant_id:w.account_id,attraction_id:R.attraction_id}).then((function(e){console.log(e.data);var t=e.data;b(j.map((function(e){return e.attraction_id===t.attraction_id?t:e}))),W("Attendant successfully assigned!"),P(!0)})).catch((function(e){return console.log(e)})),void Y()},color:"primary",children:"Confirm"}),Object(N.jsx)(g.a,{onClick:Y,color:"primary",children:"Cancel"})]})]})}),Object(N.jsx)(C.a,{open:q,autoHideDuration:2e3,onClose:M,children:Object(N.jsx)(Mt,{onClose:M,severity:"success",children:A})})]})]})}var Ht=a(335),Gt=a.n(Ht),Ut=a(23),Vt=a(63),Yt=a.n(Vt),Jt=a(703),Zt=a(743),Kt=Object(F.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function Qt(){var e,t=Kt(),a=Object(s.g)(),c=Object(n.useState)({name:"",description:"",location:"",age_restriction:0,height_restriction:0,height_restriction_feet:0,height_restriction_inches:0,picture:""}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),m=x[0],p=x[1],f=Object(n.useState)(null),y=Object(l.a)(f,2),_=y[0],C=y[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),k=S[0],I=S[1],R=function(){p(!1)},D=function(){var e=Object(Rt.a)(It.a.mark((function e(){var t;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return(t=new FormData).append("image",_.picture),I(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];o(Object(d.a)(Object(d.a)({},r),{},{picture:"http://100.26.17.215:5000/".concat(t)})),I(!1),R()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{square:!0,children:Object(N.jsxs)(u.a,{container:!0,children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(be.a,{className:t.card,square:!0,children:Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Ride Name",id:"name",variant:"outlined",fullWidth:!0,value:r.name,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{name:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:r.location,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{location:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:r.age_restriction,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{age_restriction:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Feet",id:"height_restriction_feet",type:"number",variant:"outlined",fullWidth:!0,value:r.height_restriction_feet,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{height_restriction_feet:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Inches",id:"height_restriction_inches",type:"number",variant:"outlined",fullWidth:!0,value:r.height_restriction_inches,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{height_restriction_inches:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",r.description),Object(Ut.a)(e,"onChange",(function(e){return o(Object(d.a)(Object(d.a)({},r),{},{description:e.target.value}))})),e)),Object(N.jsxs)(_e.a,{children:[Object(N.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=12*r.height_restriction_feet+r.height_restriction_inches,t={name:r.name,description:r.description,location:r.location,age_restriction:r.age_restriction>0?r.age_restriction:null,height_restriction:e>0?e:null,picture:r.picture};""!=t.name&&""!=t.description&&""!=t.location?v.a.post("manager/ride-create",t).then((function(e){console.log(e.data),a.push("/dashboard/rides/info-ride/".concat(e.data.ride_id))})).catch((function(e){return console.log(e)})):console.log("name is empty")}()},children:"Confirm"}),Object(N.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){return a.push("/dashboard/rides")},children:"Cancel"})]})]})})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:""===r.picture?Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:"http://100.26.17.215:5000/default-coverImage.png",title:"Add Picture",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"black"},onClick:function(){p(!0),C(null)}})})})}):Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:r.picture,title:"your assignment",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"white"},onClick:function(){p(!0),C(null)}})})})})})]})}),Object(N.jsx)(Te.a,{open:m,onClose:R,children:Object(N.jsx)(qe.a,{children:Object(N.jsx)(u.a,{justify:"center",children:k?Object(N.jsx)(Zt.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(N.jsx)("div",{style:{marginBottom:20},children:null!==_?_.picture.name:null}),Object(N.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(N.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return C({picture:e.target.files[0]})}})]}),Object(N.jsx)(g.a,{onClick:function(){return D()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})})]})}var Xt=Object(F.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function $t(){var e,t=Xt(),a=Object(s.h)().id,c=Object(n.useState)({}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),m=x[0],p=x[1],f=Object(n.useState)({}),y=Object(l.a)(f,2),_=y[0],C=y[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),k=S[0],I=S[1],R=Object(n.useState)(null),D=Object(l.a)(R,2),T=D[0],F=D[1],q=Object(n.useState)(!1),P=Object(l.a)(q,2),E=P[0],B=P[1],A=function(){I(!1)},W=function(){var e=Object(Rt.a)(It.a.mark((function e(){var t;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=6;break}return(t=new FormData).append("image",T.picture),B(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];C(Object(d.a)(Object(d.a)({},_),{},{picture:"http://100.26.17.215:5000/".concat(t)})),B(!1),A()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v.a.get("ride/all").then((function(e){var t=e.data.find((function(e){return e.ride_id===Number(a)}));t.picture?o(t):o(Object(d.a)(Object(d.a)({},t),{},{picture:"http://100.26.17.215:5000/default-coverImage.png"}))})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{square:!0,children:Object(N.jsxs)(u.a,{container:!0,children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(be.a,{className:t.card,square:!0,children:m?Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Ride Name",id:"name",variant:"outlined",fullWidth:!0,value:_.name,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{name:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:_.location,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{location:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:_.age_restriction,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{age_restriction:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Feet",id:"height_restriction_feet",type:"number",variant:"outlined",fullWidth:!0,value:_.height_restriction_feet,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{height_restriction_feet:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Height Restriction Inches",id:"height_restriction_inches",type:"number",variant:"outlined",fullWidth:!0,value:_.height_restriction_inches,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{height_restriction_inches:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",_.description),Object(Ut.a)(e,"onChange",(function(e){return C(Object(d.a)(Object(d.a)({},_),{},{description:e.target.value}))})),e)),Object(N.jsxs)(_e.a,{children:[Object(N.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={ride_id:_.ride_id,name:_.name,description:_.description,location:_.location,age_restriction:_.age_restriction,height_restriction:12*_.height_restriction_feet+_.height_restriction_inches,picture:_.picture};""!=e.name&&""!=e.description&&""!=e.location?v.a.put("manager/ride-edit",e).then((function(t){o(e),p(!1)})).catch((function(e){return console.log(e)})):console.log("name is empty")}()},children:"Confirm"}),Object(N.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){B(!1),C({}),p(!1)},children:"Cancel"})]})]}):Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{style:{margin:"15px"},children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Name"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.name}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Location"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.location}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Height Restriction"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.height_restriction?"".concat(Math.floor(r.height_restriction/12),"' ").concat(r.height_restriction%12,"'' "):"None"}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Age Restriction"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.age_restriction?r.age_restriction:"None"}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Description"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.description})]}),Object(N.jsx)(_e.a,{children:Object(N.jsx)(g.a,{title:"Edit",size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=Object(d.a)(Object(d.a)({},r),{},{height_restriction_feet:Math.floor(r.height_restriction/12),height_restriction_inches:r.height_restriction%12});C(e),p(!0)}()},children:"Edit"})})]})})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:m?Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:_.picture,title:"ride picture",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"http://100.26.17.215:5000/default-coverImage.png"==_.picture?"black":"white"},onClick:function(){I(!0),F(null)}})})})}):Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:r.picture,title:"your assignment"})})})]})}),Object(N.jsx)(Te.a,{open:k,onClose:A,children:Object(N.jsx)(qe.a,{children:Object(N.jsx)(u.a,{justify:"center",children:E?Object(N.jsx)(Zt.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(N.jsx)("div",{style:{marginBottom:20},children:T?T.picture.name:null}),Object(N.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(N.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return F({picture:e.target.files[0]})}})]}),Object(N.jsx)(g.a,{onClick:function(){return W()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})})]})}var ea=Object(F.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function ta(){var e,t=ea(),a=Object(s.h)().id,c=Object(n.useState)({}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),m=x[0],p=x[1],f=Object(n.useState)({}),y=Object(l.a)(f,2),_=y[0],C=y[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),k=S[0],I=S[1],R=Object(n.useState)(null),D=Object(l.a)(R,2),T=D[0],F=D[1],q=Object(n.useState)(!1),P=Object(l.a)(q,2),E=P[0],B=P[1],A=function(){I(!1)},W=function(){var e=Object(Rt.a)(It.a.mark((function e(){var t;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=6;break}return(t=new FormData).append("image",T.picture),B(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];C(Object(d.a)(Object(d.a)({},_),{},{picture:"http://100.26.17.215:5000/".concat(t)})),B(!1),A()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v.a.get("attraction/all").then((function(e){var t=e.data.find((function(e){return e.attraction_id===Number(a)}));t.picture?o(t):o(Object(d.a)(Object(d.a)({},t),{},{picture:"http://100.26.17.215:5000/default-coverImage.png"}))})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{square:!0,children:Object(N.jsxs)(u.a,{container:!0,children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(be.a,{className:t.card,square:!0,children:m?Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"attraction Name",id:"name",variant:"outlined",fullWidth:!0,value:_.name,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{name:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:_.location,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{location:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:_.age_restriction,onChange:function(e){return C(Object(d.a)(Object(d.a)({},_),{},{age_restriction:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",_.description),Object(Ut.a)(e,"onChange",(function(e){return C(Object(d.a)(Object(d.a)({},_),{},{description:e.target.value}))})),e)),Object(N.jsxs)(_e.a,{children:[Object(N.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={attraction_id:_.attraction_id,name:_.name,description:_.description,location:_.location,age_restriction:_.age_restriction,picture:_.picture};""!=e.name&&""!=e.description&&""!=e.location?v.a.put("manager/attraction-edit",e).then((function(t){o(e),p(!1)})).catch((function(e){return console.log(e)})):console.log("name is empty")}()},children:"Confirm"}),Object(N.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){B(!1),C({}),p(!1)},children:"Cancel"})]})]}):Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{style:{margin:"15px"},children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Name"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.name}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Location"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.location}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Age Restriction"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.age_restriction?r.age_restriction:"None"}),Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:Object(N.jsx)("strong",{children:"Description"})}),Object(N.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:r.description})]}),Object(N.jsx)(_e.a,{children:Object(N.jsx)(g.a,{title:"Edit",size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e=Object(d.a)({},r);C(e),p(!0)}()},children:"Edit"})})]})})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:m?Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:_.picture,title:"attraction picture",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"http://100.26.17.215:5000/default-coverImage.png"==_.picture?"black":"white"},onClick:function(){I(!0),F(null)}})})})}):Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:r.picture,title:"your assignment"})})})]})}),Object(N.jsx)(Te.a,{open:k,onClose:A,children:Object(N.jsx)(qe.a,{children:Object(N.jsx)(u.a,{justify:"center",children:E?Object(N.jsx)(Zt.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(N.jsx)("div",{style:{marginBottom:20},children:T?T.picture.name:null}),Object(N.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(N.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return F({picture:e.target.files[0]})}})]}),Object(N.jsx)(g.a,{onClick:function(){return W()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})})]})}var aa=Object(F.a)({input:{margin:"10px"},textField:{padding:"10px",marginTop:"10px"},card:{margin:"0px"},cover:{height:"100%"}});function na(){var e,t=aa(),a=Object(s.g)(),c=Object(n.useState)({name:"",description:"",location:"",age_restriction:0,picture:""}),i=Object(l.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),m=x[0],p=x[1],f=Object(n.useState)(null),y=Object(l.a)(f,2),_=y[0],C=y[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),k=S[0],I=S[1],R=function(){p(!1)},D=function(){var e=Object(Rt.a)(It.a.mark((function e(){var t;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return(t=new FormData).append("image",_.picture),I(!0),e.next=6,v.a.post("manager/upload-image",t).then((function(e){var t=e.data.path.split("/")[1];o(Object(d.a)(Object(d.a)({},r),{},{picture:"http://100.26.17.215:5000/".concat(t)})),I(!1),R()})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{square:!0,children:Object(N.jsxs)(u.a,{container:!0,children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(be.a,{className:t.card,square:!0,children:Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"attraction Name",id:"name",variant:"outlined",fullWidth:!0,value:r.name,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{name:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Location",id:"location",variant:"outlined",fullWidth:!0,value:r.location,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{location:e.target.value}))}}),Object(N.jsx)(h.a,{className:t.textField,required:!0,label:"Age Restriction",id:"age_restriction",type:"number",variant:"outlined",fullWidth:!0,value:r.age_restriction,onChange:function(e){return o(Object(d.a)(Object(d.a)({},r),{},{age_restriction:e.target.value<0?e.target.value=0:Number(e.target.value)}))}}),Object(N.jsx)(h.a,(e={className:t.textField,label:"Description",type:"description",variant:"outlined",rows:"5",multiline:!0,fullWidth:!0},Object(Ut.a)(e,"rows",5),Object(Ut.a)(e,"required",!0),Object(Ut.a)(e,"value",r.description),Object(Ut.a)(e,"onChange",(function(e){return o(Object(d.a)(Object(d.a)({},r),{},{description:e.target.value}))})),e)),Object(N.jsxs)(_e.a,{children:[Object(N.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return function(){var e={name:r.name,description:r.description,location:r.location,age_restriction:r.age_restriction>0?r.age_restriction:null,picture:r.picture};""!=e.name&&""!=e.description&&""!=e.location?v.a.post("manager/attraction-create",e).then((function(e){console.log(e.data),a.push("/dashboard/attractions/info-attraction/".concat(e.data.attraction_id))})).catch((function(e){return console.log(e)})):console.log("name is empty")}()},children:"Confirm"}),Object(N.jsx)(g.a,{size:"small",color:"disable",variant:"contained",onClick:function(){return a.push("/dashboard/attractions")},children:"Cancel"})]})]})})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:""===r.picture?Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:"http://100.26.17.215:5000/default-coverImage.png",title:"Add Picture",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"black"},onClick:function(){p(!0),C(null)}})})})}):Object(N.jsx)(be.a,{square:!0,className:t.cover,children:Object(N.jsx)(Oe.a,{style:{height:"100%"},image:r.picture,title:"your assignment",children:Object(N.jsx)(Jt.a,{"aria-label":"upload picture",component:"span",children:Object(N.jsx)(Yt.a,{style:{margin:"5px",color:"white"},onClick:function(){p(!0),C(null)}})})})})})]})}),Object(N.jsx)(Te.a,{open:m,onClose:R,children:Object(N.jsx)(qe.a,{children:Object(N.jsx)(u.a,{justify:"center",children:k?Object(N.jsx)(Zt.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Select Picture"}),Object(N.jsx)("div",{style:{marginBottom:20},children:null!==_?_.picture.name:null}),Object(N.jsxs)(g.a,{variant:"outlined",component:"label",label:"Select Picture",style:{margin:5},children:["Select",Object(N.jsx)("input",{label:"Select Picture",type:"file",hidden:!0,onChange:function(e){return C({picture:e.target.files[0]})}})]}),Object(N.jsx)(g.a,{onClick:function(){return D()},color:"primary",variant:"contained",style:{margin:5},children:"Upload"})]})})})})]})}var ca=Object(F.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function ia(){var e=ca(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"Reports",url:"".concat(n),icon:Object(N.jsx)(Gt.a,{})},{text:"Rides",url:"".concat(n,"/rides"),icon:Object(N.jsx)(le.a,{})},{text:"Attractions",url:"".concat(n,"/attractions"),icon:Object(N.jsx)(oe.a,{})}];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(q.a,{position:"fixed",className:e.appBar,children:Object(N.jsx)(X.a,{children:Object(N.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(N.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)("div",{className:e.drawerContainer,children:[Object(N.jsx)($.a,{children:i.map((function(t,a){return Object(N.jsx)(o.b,{to:t.url,className:e.link,children:Object(N.jsxs)(te.a,{children:[Object(N.jsx)(ae.a,{children:t.icon}),Object(N.jsx)(ne.a,{primary:t.text})]})},t.index)}))}),Object(N.jsx)(ee.a,{}),Object(N.jsx)($.a,{children:Object(N.jsxs)(te.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(N.jsx)(ae.a,{children:Object(N.jsx)(ie.a,{})}),Object(N.jsx)(ne.a,{primary:"Logout"})]})})]})]}),Object(N.jsxs)("main",{className:e.content,children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"".concat(c),component:Nt,exact:!0}),Object(N.jsx)(s.b,{path:"".concat(c,"/rides"),component:Wt,exact:!0}),Object(N.jsx)(s.b,{path:"".concat(c,"/rides/add-ride"),component:Qt}),Object(N.jsx)(s.b,{path:"".concat(c,"/rides/info-ride/:id"),component:$t}),Object(N.jsx)(s.b,{path:"".concat(c,"/attractions"),component:Lt,exact:!0}),Object(N.jsx)(s.b,{path:"".concat(c,"/attractions/add-attraction"),component:na}),Object(N.jsx)(s.b,{path:"".concat(c,"/attractions/info-attraction/:id"),component:ta})]})]})]})}var ra=a(336),oa=a.n(ra),sa=a(163);function la(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var da=Object(F.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardTitle:{padding:0,margin:0},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,padding:e.spacing(1),justifyContent:"center"},buttons:{paddingTop:0},paragraph:{fontSize:12}}})),ja=function(){var e=da(),t=c.a.useState(!1),a=Object(l.a)(t,2),i=a[0],r=a[1],o=c.a.useState(!1),s=Object(l.a)(o,2),d=s[0],j=s[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),x=h[0],m=h[1],p=Object(n.useState)({}),f=Object(l.a)(p,2),_=f[0],w=f[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),I=k[0],R=k[1],D=function(e,t){"clickaway"!==t&&j(!1)},T=function(e,t){"clickaway"!==t&&r(!1)};Object(n.useEffect)((function(){v.a.get("maintainer/all-maintainence-requests").then((function(e){var t=e.data.map((function(e){return function(e){var t=e.breakdown_date.indexOf("T");return console.log(e),{r_id:e.ride_id,bd_id:e.breakdown_id,date:e.breakdown_date.slice(0,t),name:e.name,descript:e.breakdown_description,location:e.location,picture:e.picture,attendant_name:e.first_name+" "+e.last_name}}(e)}));m(t)})).catch((function(e){console.log(e.res)}))}),[]);return Object(N.jsx)("div",{children:Object(N.jsxs)(we.a,{children:[Object(N.jsx)(y.a,{}),Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[x.map((function(t){return Object(N.jsx)(u.a,{item:!0,md:3,children:Object(N.jsxs)(be.a,{className:e.card,children:[Object(N.jsx)(Oe.a,{className:e.cardMedia,image:t.picture,title:"Image title"}),Object(N.jsxs)(he.a,{classsName:e.cardContent,children:[Object(N.jsxs)(O.a,{children:["Ride Name: ",t.name]}),Object(N.jsxs)(O.a,{children:["Location: ",t.location]})]}),Object(N.jsx)(_e.a,{className:e.buttons,children:Object(N.jsx)(g.a,{onClick:function(){return function(e){w({ride_id:e.r_id,ride_name:e.name,breakdown_description:e.descript,breakdown_date:e.date,attendant_name:e.attendant_name}),r(!0)}(t)},variant:"contained",color:"primary",children:"Inspect Issue"})})]})},t.bd_id)})),Object(N.jsxs)(Te.a,{open:i,onClose:T,children:[Object(N.jsx)(Ee.a,{children:"Breakdown Information"}),Object(N.jsxs)(qe.a,{children:[Object(N.jsxs)(Pe.a,{children:[Object(N.jsx)("strong",{children:"Breakdown Description: "}),_.breakdown_description]}),Object(N.jsxs)(Pe.a,{children:[Object(N.jsx)("strong",{children:"Reported by Attendant: "}),_.attendant_name]}),Object(N.jsxs)(Pe.a,{children:[Object(N.jsx)("strong",{children:"Date of Breakdown: "}),_.breakdown_date]})]}),Object(N.jsxs)(Fe.a,{children:[Object(N.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e={maintainer_id:Number(localStorage.getItem("user_id")),ride_id:_.ride_id};v.a.put("maintainer/resolve-request",e).then((function(e){m(x.filter((function(e){return e.r_id!==_.ride_id}))),R("".concat(_.ride_name," was fixed!")),j(!0),T(),console.log(e.data.broken)})).catch((function(e){console.log(e)}))}()},children:"Fix Ride"}),Object(N.jsx)(g.a,{variant:"contained",onClick:T,style:{backgroundColor:sa.a[400]},children:"Cancel"})]})]}),Object(N.jsx)(C.a,{open:d,autoHideDuration:2e3,onClose:D,children:Object(N.jsx)(la,{onClose:D,severity:"success",children:I})})]})]})})},ua=Object(F.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function ba(){var e=ua(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"Fix Requests",url:"".concat(n),icon:Object(N.jsx)(oa.a,{})}];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(q.a,{position:"fixed",className:e.appBar,children:Object(N.jsx)(X.a,{children:Object(N.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(N.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)("div",{className:e.drawerContainer,children:[Object(N.jsx)($.a,{children:i.map((function(t,a){return Object(N.jsx)(o.b,{to:t.url,className:e.link,children:Object(N.jsxs)(te.a,{children:[Object(N.jsx)(ae.a,{children:t.icon}),Object(N.jsx)(ne.a,{primary:t.text})]})},t.index)}))}),Object(N.jsx)(ee.a,{}),Object(N.jsx)($.a,{children:Object(N.jsxs)(te.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(N.jsx)(ae.a,{children:Object(N.jsx)(ie.a,{})}),Object(N.jsx)(ne.a,{primary:"Logout"})]})})]})]}),Object(N.jsxs)("main",{className:e.content,children:[Object(N.jsx)(X.a,{}),Object(N.jsx)(s.d,{children:Object(N.jsx)(s.b,{path:"".concat(c),component:ja,exact:!0})})]})]})}var ha=a(338),Oa=a.n(ha),xa=a(339),ma=a.n(xa),pa=a(337),ga=a.n(pa),fa=Object(F.a)({root:{width:"100%",maxWidth:1e3}}),va=function(e){var t=fa();return Object(N.jsx)("div",{children:Object(N.jsxs)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",style:{marginTop:100},children:[Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)("div",{children:Object(N.jsx)(ga.a,{fontSize:"large"})})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)("div",{className:t.root,children:Object(N.jsx)(O.a,{variant:"h4",gutterBottom:!0,children:e.message})})})]})})};function ya(e){return Object(N.jsx)(w.a,Object(d.a)({elevation:6,variant:"filled"},e))}var _a=Object(F.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column",flexGrow:100},content:{flex:"1 0 auto"},cover:{width:600,height:"100%"},buttons:{marginTop:"20px"}}}));function Ca(){var e=_a(),t=Object(n.useState)({}),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),j=(s[0],s[1]),u=Object(n.useState)(!1),b=Object(l.a)(u,2),x=b[0],m=b[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),y=f[0],_=f[1],w=Object(n.useState)(""),S=Object(l.a)(w,2),k=S[0],I=S[1],R=Object(n.useState)(!1),D=Object(l.a)(R,2),T=D[0],F=D[1],q=Object(n.useState)(!1),P=Object(l.a)(q,2),E=P[0],B=P[1],A=Object(n.useState)(""),W=Object(l.a)(A,2),M=(W[0],W[1],function(){m(!1)}),z=c.a.useState(!1),L=Object(l.a)(z,2),H=L[0],G=L[1],U=function(e){I(e),G(!0)},V=function(e,t){"clickaway"!==t&&G(!1)};Object(n.useEffect)((function(){v.a.post("attendant/get-assignment",{attendant_id:localStorage.getItem("user_id")}).then((function(e){console.log(e.data),null===e.data||"No assignment"===e.data||(F(!0),r(e.data.assignment),j(e.data.type),"ride"===e.data.type&&B(!0))})).catch((function(e){return console.log(e)}))}),[]);return Object(N.jsxs)("div",{children:[!0===T?Object(N.jsxs)("div",{children:[Object(N.jsxs)(be.a,{className:e.root,children:[Object(N.jsx)("div",{className:e.details,children:Object(N.jsxs)(he.a,{className:e.content,children:[Object(N.jsx)(O.a,{variant:"h2",children:i.name}),Object(N.jsx)(O.a,{variant:"h6",children:"Description"}),Object(N.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.description}),Object(N.jsx)(O.a,{variant:"h6",children:"Location"}),Object(N.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.location}),Object(N.jsx)(O.a,{variant:"h6",children:"Age Restriction"}),Object(N.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.age_restriction?i.age_restriction:"None"}),E?Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{variant:"h6",children:"Height Resctriction"}),Object(N.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:i.height_restriction?"".concat(Math.floor(i.height_restriction/12),"' ").concat(i.height_restriction%12,"'' "):"None"})]}):null,Object(N.jsx)(O.a,{variant:"h6",children:"Status"}),Object(N.jsxs)("div",{children:[i.broken||i.rainedout?null:Object(N.jsx)(Ce.a,{title:"Available",children:Object(N.jsx)(Oa.a,{fontSize:"large"})}),i.broken?Object(N.jsx)(Ce.a,{title:"Broken",children:Object(N.jsx)(Ie.a,{fontSize:"large"})}):null,i.rainedout?Object(N.jsx)(Ce.a,{title:"Rainedout",children:Object(N.jsx)(De.a,{fontSize:"large"})}):null]}),Object(N.jsx)(ee.a,{}),Object(N.jsxs)("div",{className:e.buttons,children:[E?i.broken?Object(N.jsx)(g.a,{variant:"contained",color:"disabled",children:"Make Fix Request"}):Object(N.jsx)(g.a,{variant:"contained",style:{backgroundColor:ma.a.A200,color:"white"},onClick:function(){return m(!0)},children:"Make Fix Request"}):null,i.rainedout?Object(N.jsx)(g.a,{variant:"contained",style:{marginLeft:"15px"},color:"primary",onClick:function(){E?v.a.put("attendant/end-rainout",{rainout_type:"ride",ride_id:i.ride_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!1})),U("Rainout successfully ended!")})).catch((function(e){console.log(e)})):v.a.put("attendant/end-rainout",{rainout_type:"attraction",attraction_id:i.attraction_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!1})),U("Rainout successfully ended!")})).catch((function(e){console.log(e)}))},children:"End Rainout"}):Object(N.jsx)(g.a,{variant:"contained",color:"primary",style:{marginLeft:"15px"},onClick:function(){E?v.a.put("attendant/declare-rainout",{rainout_type:"ride",ride_id:i.ride_id,attendant_id:i.attendant_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!0})),U("Rainout successfully declared!")})).catch((function(e){console.log(e)})):v.a.put("attendant/declare-rainout",{rainout_type:"attraction",attraction_id:i.attraction_id,attendant_id:i.attendant_id}).then((function(e){r(Object(d.a)(Object(d.a)({},i),{},{rainedout:!0})),U("Rainout successfully declared!")})).catch((function(e){console.log(e)}))},children:"Declare Rainout"})]})]})}),Object(N.jsx)(be.a,{children:Object(N.jsx)(Oe.a,{className:e.cover,image:i.picture,title:"your assignment"})})]}),Object(N.jsxs)(Te.a,{open:x,onClose:M,"aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(qe.a,{children:[Object(N.jsx)(Pe.a,{children:"Please leave a short description of the problem"}),Object(N.jsx)(h.a,{autoFocus:!0,margin:"dense",id:"name",type:"description",fullWidth:!0,variant:"filled",multiline:"true",rows:"5",onChange:function(e){return _(e.target.value)}})]}),Object(N.jsxs)(Fe.a,{children:[Object(N.jsx)(g.a,{onClick:function(){return console.log(y),void v.a.put("attendant/request-maintainence",{ride_id:i.ride_id,breakdown_description:y,attendant_id:i.attendant_id}).then((function(e){M(),r(Object(d.a)(Object(d.a)({},i),{},{broken:!0})),U("Fix request successfully made!")})).catch((function(e){console.log(e)}))},color:"primary",children:"Confirm"}),Object(N.jsx)(g.a,{onClick:M,color:"disable",children:"Cancel"})]})]})]}):Object(N.jsx)(va,{message:"The manager was notified! Please wait for an assignment."}),Object(N.jsx)(C.a,{open:H,autoHideDuration:2e3,onClose:V,children:Object(N.jsx)(ya,{onClose:V,severity:"success",children:k})})]})}var wa=a(340),Sa=a.n(wa),Na=Object(F.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:"black"}}}));function ka(){var e=Na(),t=Object(s.g)(),a=Object(s.i)(),n=a.url,c=a.path;console.log(c);var i=[{text:"My Assignment",url:"".concat(n),icon:Object(N.jsx)(Sa.a,{})}];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(y.a,{}),Object(N.jsx)(q.a,{position:"fixed",className:e.appBar,children:Object(N.jsx)(X.a,{children:Object(N.jsx)(O.a,{variant:"h6",noWrap:!0,children:localStorage.getItem("user_name")})})}),Object(N.jsxs)(Q.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(N.jsx)(X.a,{}),Object(N.jsxs)("div",{className:e.drawerContainer,children:[Object(N.jsx)($.a,{children:i.map((function(t,a){return Object(N.jsx)(o.b,{to:t.url,className:e.link,children:Object(N.jsxs)(te.a,{children:[Object(N.jsx)(ae.a,{children:t.icon}),Object(N.jsx)(ne.a,{primary:t.text})]})},t.index)}))}),Object(N.jsx)(ee.a,{}),Object(N.jsx)($.a,{children:Object(N.jsxs)(te.a,{onClick:function(){localStorage.clear(),setTimeout(1e3,t.push("/"))},children:[Object(N.jsx)(ae.a,{children:Object(N.jsx)(ie.a,{})}),Object(N.jsx)(ne.a,{primary:"Logout"})]})})]})]}),Object(N.jsxs)("main",{className:e.content,children:[Object(N.jsx)(X.a,{}),Object(N.jsx)(s.d,{children:Object(N.jsx)(s.b,{path:"".concat(c),component:Ca,exact:!0})})]})]})}var Ia=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){c(localStorage.getItem("user_type"))}),[]);return Object(N.jsx)("div",{children:function(){switch(a){case"customer":return Object(N.jsx)(Qe,{});case"manager":return Object(N.jsx)(ia,{});case"attendant":return Object(N.jsx)(ka,{});case"maintainer":return Object(N.jsx)(ba,{});default:return Object(N.jsx)("div",{children:"Nothing Here"})}}()})},Ra=function(){return Object(N.jsx)("div",{children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"/",component:T,exact:!0}),Object(N.jsx)(s.b,{path:"/register",component:V}),Object(N.jsx)(J,{path:"/dashboard",component:Ia}),Object(N.jsx)(s.b,{path:"*",component:K})]})})})};v.a.defaults.baseURL="http://100.26.17.215:5000/",r.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(R,{children:Object(N.jsx)(Ra,{})})}),document.getElementById("root"))}},[[662,1,2]]]);
//# sourceMappingURL=main.7521f4e7.chunk.js.map